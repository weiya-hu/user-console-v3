import{K as a}from"./KzDialog.32a9c724.js";import{_ as l,B as e}from"./index.f91ef24c.js";import{H as s,g as d,b as t,ae as i,o as n,I as u,c as o,w as c,a0 as b,a1 as v,a2 as p,B as y,a as f,J as m,_ as r,P as _,aa as k,W as g,av as x,aw as C}from"./vue.fa004e33.js";const V=a=>(x("data-v-04a95497"),a=a(),C(),a),B={class:"kz_top_btns"},j=v("同步数据"),w={class:"fsc"},A=V((()=>m("div",{class:"lt"},"选择同步系统",-1))),D={class:"rt fcs"},P=v(" 每天同步上限"),S=v("条数据 "),K={class:"btn_list flex"},z={class:"flex fjend"},I=v("取消"),M=v("同步");var T=l(s({props:{type:{default:"all"},syncbtn:{type:Boolean,default:!1},syncDisabled:{type:Boolean,default:!0},syncApi:null,btnText:{default:"新增需求"}},emits:["add","sync"],setup(l,{expose:s,emit:x}){const C=l,V=d({}),T=async()=>{const a=C.syncApi&&await C.syncApi();a&&1==a.status&&(V.value=a.body,L.value=!0)},U=d(!1),h=d(""),H=d(!1),J=a=>{W.value=0,L.value=!1,U.value=!1,a&&(h.value=a,H.value=!0)},L=d(!1),R=d([{id:1,btns:"同步APP营销矩阵",disabled:!1},{id:2,btns:"同步SCRM系统",disabled:!0},{id:3,btns:"同步DSP系统",disabled:!0},{id:4,btns:"同步SMS系统",disabled:!0}]),W=d(0);return s({close:J,setLoading:a=>{U.value=Boolean(a)}}),(s,d)=>{const C=t("el-button"),$=t("el-dialog"),q=i("loading");return n(),u("div",B,["all"===l.type||"sync"===l.type?(n(),o(C,{key:0,class:"bdc_btn",disabled:l.syncDisabled,onClick:T},{default:c((()=>[j])),_:1},8,["disabled"])):b("",!0),"all"===l.type||"add"===l.type?(n(),o(C,{key:1,type:"primary",icon:y(e),onClick:d[0]||(d[0]=a=>x("add"))},{default:c((()=>[v(p(l.btnText),1)])),_:1},8,["icon"])):b("",!0),f($,{modelValue:L.value,"onUpdate:modelValue":d[3]||(d[3]=a=>L.value=a),title:"同步数据",width:"480px","custom-class":"sync_dialog",onClose:J},{footer:c((()=>[m("span",z,[f(C,{disabled:U.value,onClick:d[1]||(d[1]=a=>L.value=!1)},{default:c((()=>[I])),_:1},8,["disabled"]),f(C,{type:"primary",disabled:!W.value||U.value,onClick:d[2]||(d[2]=a=>s.$emit("sync"))},{default:c((()=>[M])),_:1},8,["disabled"])])])),default:c((()=>[r((n(),u("div",null,[m("div",w,[A,m("div",D,[P,m("span",null,p(V.value.surplus)+"/"+p(V.value.total),1),S])]),m("div",K,[(n(!0),u(_,null,k(R.value,(a=>(n(),o(C,{key:a.id,class:g(["btn_item",a.disabled&&"btn_disabled"]),type:a.id==W.value?"primary":"",disabled:a.disabled,onClick:l=>W.value=a.id},{default:c((()=>[v(p(a.btns),1)])),_:2},1032,["type","disabled","class","onClick"])))),128))])])),[[q,U.value]])])),_:1},8,["modelValue"]),f(a,{modelValue:H.value,"onUpdate:modelValue":d[4]||(d[4]=a=>H.value=a),title:"同步结果",btn:1,msg:h.value},null,8,["modelValue","msg"])])}}}),[["__scopeId","data-v-04a95497"]]);export{T as K};
