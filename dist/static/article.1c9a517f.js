var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,i=(a,t,l)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[t]=l;import{f as o}from"./date.23847c74.js";import{K as u}from"./KzEmpty.e7d92402.js";import{K as d}from"./KzPage.e5833c31.js";import{K as n}from"./KzDialog.268c77a5.js";import{a as c,b as p}from"./myWork.70ef5391.js";import{_ as m,U as v}from"./index.a5da46a5.js";import{H as y,g as f,o as b,I as _,J as k,a as w,w as h,c as g,a1 as C,a2 as j,a0 as z,B as x,W as O,av as K,aw as I,b as P}from"./vue.fa004e33.js";import"./kzkf.83b11867.js";import"./tinymce.50e98bcc.js";const V=e=>(K("data-v-83cbfb28"),e=e(),I(),e),U={class:"m_article"},D={class:"article_top flexb"},$=V((()=>k("div",null,"软文库",-1))),E=C("新建"),S={class:"dmp_table"},M=["src","onClick"],W=["onClick"],B={class:"fcs"},H={class:"els"},J={class:"fcs"},N=C("删除"),q=V((()=>k("div",{class:"line"},null,-1))),A=C("编辑"),F=C("查看"),G=C("驳回原因"),L=y((Q=((e,a)=>{for(var t in a||(a={}))r.call(a,t)&&i(e,t,a[t]);if(l)for(var t of l(a))s.call(a,t)&&i(e,t,a[t]);return e})({},{name:"我的作品库-软文"}),a(Q,t({setup(e){const a=f(1),t=f(0),l=f(10),r=f([]),s=async()=>{const e=await c({size:l.value,current:a.value});1===e.status&&(r.value=e.body.records,t.value=e.body.total)};s();const i=()=>{s()},m=f([]),y=e=>{m.value=e},K=f(""),I=f(!1),V=()=>{p({id:K.value}).then((e=>{1==e.status&&(s(),I.value=!1)}))},L=f(!1),Q=f(""),R=f([]),T=f(!1),X=f(0);return(e,s)=>{const c=P("KzIcon"),p=P("el-button"),m=P("el-table-column"),f=P("el-link"),Y=P("el-table"),Z=P("el-image-viewer");return b(),_("div",U,[k("div",D,[$,k("div",null,[w(p,{type:"primary",class:"add_need_btn",onClick:s[0]||(s[0]=a=>e.$router.push("/product/cms/mywork/articleadd"))},{default:h((()=>[w(c,{href:"#icon-tianjia",size:"14px",color:"white",class:"add_need_icon"}),E])),_:1})])]),k("div",S,[w(Y,{data:r.value,style:{width:"100%"},onSelectionChange:y},{empty:h((()=>[w(u)])),default:h((()=>[w(m,{type:"selection",width:"50"}),w(m,{property:"id",label:"ID","min-width":"100"}),w(m,{property:"thumb_url",label:"封面图片","min-width":"100"},{default:h((({row:e})=>[k("img",{src:e.thumb_url,alt:"",class:"firstimg lookhover",onClick:a=>(e=>{const a=[];r.value.forEach((e=>{a.push(e.thumb_url)})),R.value=a,X.value=R.value.findIndex((a=>a==e)),T.value=!0})(e.thumb_url)},null,8,M)])),_:1}),w(m,{property:"title",label:"标题","min-width":"160"},{default:h((({row:a})=>[4!=a.status?(b(),g(f,{key:0,type:"primary",onClick:t=>e.$router.push(1==a.status?"/product/cms/mywork/articleadd?id="+a.id:"/product/cms/mywork/articledetails?id="+a.id)},{default:h((()=>[C(j(a.title),1)])),_:2},1032,["onClick"])):z("",!0),4==a.status?(b(),_("span",{key:1,onClick:()=>{Q.value=a.fail_reason,L.value=!0}},j(a.title),9,W)):z("",!0)])),_:1}),w(m,{property:"create_time",label:"创建日期","min-width":"100"},{default:h((({row:e})=>[k("div",null,j(x(o)(new Date(e.create_time),"yyyy-MM-dd")),1)])),_:1}),w(m,{property:"status",label:"状态","min-width":"100"},{default:h((({row:e})=>[k("div",B,[k("div",{class:O(["status_dot",x(v)(e.status).className])},null,2),k("div",null,j(x(v)(e.status).text),1)])])),_:1}),w(m,{property:"user_name",label:"创作人","min-width":"120"},{default:h((({row:e})=>[k("div",H,j(e.user_name),1)])),_:1}),w(m,{label:"操作",fixed:"right",width:"150"},{default:h((({row:a})=>[k("div",J,[w(f,{type:"primary",onClick:e=>{return t=a.id,K.value=t,void(I.value=!0);var t}},{default:h((()=>[N])),_:2},1032,["onClick"]),q,1==a.status?(b(),g(f,{key:0,type:"primary",onClick:t=>e.$router.push("/product/cms/mywork/articleadd?id="+a.id)},{default:h((()=>[A])),_:2},1032,["onClick"])):z("",!0),2==a.status||3==a.status?(b(),g(f,{key:1,type:"primary",onClick:t=>e.$router.push("/product/cms/mywork/articledetails?id="+a.id)},{default:h((()=>[F])),_:2},1032,["onClick"])):z("",!0),4==a.status?(b(),g(f,{key:2,type:"primary",onClick:e=>{return t=a.fail_reason,Q.value=t,void(L.value=!0);var t}},{default:h((()=>[G])),_:2},1032,["onClick"])):z("",!0)])])),_:1})])),_:1},8,["data"])]),w(d,{page:a.value,"onUpdate:page":s[1]||(s[1]=e=>a.value=e),size:l.value,"onUpdate:size":s[2]||(s[2]=e=>l.value=e),total:t.value,onChange:i},null,8,["page","size","total"]),w(n,{modelValue:I.value,"onUpdate:modelValue":s[3]||(s[3]=e=>I.value=e),msg:"确认删除这条数据吗?",onSure:V},null,8,["modelValue"]),w(n,{modelValue:L.value,"onUpdate:modelValue":s[4]||(s[4]=e=>L.value=e),msg:Q.value,title:"拒绝原因",btn:1},null,8,["modelValue","msg"]),T.value?(b(),g(Z,{key:0,"url-list":R.value,"initial-index":X.value,onClose:s[5]||(s[5]=e=>T.value=!1)},null,8,["url-list","initial-index"])):z("",!0)])}}}))));var Q,R=m(L,[["__scopeId","data-v-83cbfb28"]]);export{R as default};
