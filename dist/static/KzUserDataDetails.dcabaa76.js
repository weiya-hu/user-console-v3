import{K as e}from"./KzDmpTitle.bdbf5a2d.js";import{K as a}from"./KzPage.270569e7.js";import{K as t}from"./KzEmpty.d7f95ebf.js";import{f as l}from"./date.23847c74.js";import{m as s,P as r,Q as o,R as d,_ as u}from"./index.fde176ed.js";import{H as i,u as p,g as n,r as c,o as m,I as v,a as f,w as y,J as b,a3 as _,B as h,Y as g,ay as w,ad as z,$ as K}from"./vue.a499711c.js";const x=["innerHTML"],j=i({name:"KzUserTable",props:{data:null,oheight:{default:126}},emits:["select"],setup(e,{expose:a,emit:u}){const i=s(),w=p((()=>i.state.typeHash)),z=p((()=>i.state.addressHash)),K=n([]),j=e=>{K.value=e.map((e=>e.id))},L=n();return a({selIdList:K,clear:()=>{K.value=[],L.value.clearSelection()}}),(a,s)=>{const u=c("el-table-column"),i=c("el-table");return m(),v("div",{class:"dmp_table user_table",style:g({height:`calc( 100% - ${e.oheight}px )`})},[f(i,{ref_key:"tableRef",ref:L,data:e.data,style:{width:"100%"},height:"100%",onSelectionChange:j},{empty:y((()=>[f(t)])),default:y((()=>[f(u,{type:"selection",width:"50"}),f(u,{property:"name",label:"姓名"}),f(u,{property:"sex",label:"性别"},{default:y((e=>[b("div",null,_(0==e.row.sex?"未知":1==e.row.sex?"男":"女"),1)])),_:1}),f(u,{property:"mobiles",label:"联系方式"},{default:y((e=>[b("div",{innerHTML:e.row.mobiles},null,8,x)])),_:1}),f(u,{property:"email",label:"邮箱"}),f(u,{property:"type",label:"从事行业"},{default:y((e=>[b("div",null,_(h(r)(e.row.industry_id.split(","),h(w),"last")),1)])),_:1}),f(u,{label:"地区"},{default:y((e=>[b("div",null,_(h(r)(h(o)(e.row.province,e.row.city,e.row.district),h(z))),1)])),_:1}),f(u,{property:"source",label:"来源"},{default:y((e=>[b("div",null,_(h(d)(e.row.source)),1)])),_:1}),f(u,{property:"update_time",label:"创建时间"},{default:y((e=>[b("div",null,_(h(l)(new Date(Number(e.row.update_time)),"yyyy-MM-dd")),1)])),_:1})])),_:1},8,["data"])],4)}}});const L={class:"user_data_details kz_card dmp_page"};var H=u(i({name:"KzUserDataDetails",props:{getListApi:null},setup(t){const l=t,s=n([]),r=n(0),o=n(1),d=n(10),u=n(!1),i=w(),c=()=>{u.value=!0,l.getListApi({size:d.value,current:o.value,did:i.query.id}).then((e=>{1==e.status&&(r.value=e.body.total,s.value=e.body.records),u.value=!1})).catch((()=>{u.value=!1}))};c(),n();const y=n();return p((()=>y.value&&!y.value.selIdList.length)),(t,l)=>{const i=z("loading");return K((m(),v("div",L,[f(e,{total:r.value,class:"pt20 pb20 ml16"},null,8,["total"]),f(j,{ref_key:"tableRef",ref:y,data:s.value},null,8,["data"]),f(a,{page:o.value,"onUpdate:page":l[0]||(l[0]=e=>o.value=e),size:d.value,"onUpdate:size":l[1]||(l[1]=e=>d.value=e),total:r.value,onChange:c},null,8,["page","size","total"])])),[[i,u.value]])}}}),[["__scopeId","data-v-590f628e"]]);export{H as K};
