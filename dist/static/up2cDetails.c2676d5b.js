import{K as a}from"./KzTopBtns.cf198609.js";import{K as e}from"./KzDmpTitle.bdbf5a2d.js";import{K as t}from"./KzEmpty.d7f95ebf.js";import{K as s}from"./KzPage.270569e7.js";import{_ as l,m as o,P as r,Q as i}from"./index.fde176ed.js";import{H as p,u as d,g as n,o as c,I as u,J as y,a as m,B as v,$ as f,c as b,w as _,a2 as g,a3 as z,ay as w,r as j,ad as K}from"./vue.a499711c.js";import{g as h,b as x,s as D}from"./myData.5e61016f.js";import"./KzDialog.552d8a23.js";import"./tinymce.275386ab.js";const k={class:"kz_card my_up2c_page dmp_page"},B={class:"fsc f1"},H={class:"dmp_table"},q={style:{width:"100px"}};var I=l(p({name:"up2cDetails",setup(l){const p=o(),I=d((()=>p.state.typeHash)),P=d((()=>p.state.addressHash)),S=w();S.query.id;const T=n([]),U=n(0),C=n(10),E=n(1),J=n(!1),L=async()=>{J.value=!0;const a={current:E.value,size:C.value,id:S.query.id},{status:e,body:t}=await x(a);J.value=!1,e&&(U.value=t.total,T.value=t.records)};L();const Q=n([]),R=n(),$=n(),A=d((()=>!Q.value.length)),F=async()=>{$.value.setLoading(!0);const a=await D({list:Q.value,type:2});$.value.close(a.message),Q.value=[],R.value.clearSelection()};return(l,o)=>{const p=j("el-table-column"),d=j("el-tooltip"),n=j("el-table"),w=K("loading");return c(),u("div",k,[y("div",B,[m(e,{total:U.value,class:"pt20 pb20 ml16"},null,8,["total"]),m(a,{ref_key:"topBtnRef",ref:$,type:"sync",syncbtn:"","sync-api":v(h),"sync-disabled":v(A),class:"topbtns mr20",onSync:F},null,8,["sync-api","sync-disabled"])]),y("div",H,[f((c(),b(n,{data:T.value,size:"large","row-class-name":"my-data-table-row"},{empty:_((()=>[m(t)])),default:_((()=>[m(p,{type:"selection",width:"50"}),m(p,{property:"contact",label:"姓名"}),m(p,{property:"sex",label:"性别"},{default:_((({row:a})=>[g(z(1===a.sex?"男":"女"),1)])),_:1}),m(p,{property:"mobiles",label:"联系方式"}),m(p,{property:"email",label:"邮箱"}),m(p,{property:"industry_id",label:"从事行业"},{default:_((a=>[y("div",null,z(v(r)(a.row.industry_id.split(","),v(I),"last")),1)])),_:1}),m(p,{property:"city",label:"地区"},{default:_((({row:a})=>[m(d,{effect:"dark",placement:"top"},{content:_((()=>[y("div",q,z(v(r)(v(i)(a.province,a.city,a.district),v(P))),1)])),default:_((()=>[y("div",null,z(v(r)(v(i)(a.province,a.city,a.district),v(P))),1)])),_:2},1024)])),_:1})])),_:1},8,["data"])),[[w,J.value]])]),m(s,{page:E.value,"onUpdate:page":o[0]||(o[0]=a=>E.value=a),size:C.value,"onUpdate:size":o[1]||(o[1]=a=>C.value=a),total:U.value,onChange:L},null,8,["page","size","total"])])}}}),[["__scopeId","data-v-7202ea1e"]]);export{I as default};
