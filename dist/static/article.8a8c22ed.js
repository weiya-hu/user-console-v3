var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,i=(a,t,l)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[t]=l;import{f as o}from"./date.23847c74.js";import{K as u}from"./KzEmpty.a0bcbd2b.js";import{K as d}from"./KzPage.d24cd6e4.js";import{K as n}from"./KzDialog.32a9c724.js";import{_ as c,U as p,V as m}from"./index.f91ef24c.js";import{a as v,b as y}from"./myWork.a3adf5ba.js";import{H as f,g as b,o as _,I as k,J as w,a as h,w as g,c as C,a1 as j,a2 as x,a0 as z,B as O,W as V,av as K,aw as P,b as I}from"./vue.fa004e33.js";import"./kzkf.83b11867.js";import"./tinymce.50e98bcc.js";const U=e=>(K("data-v-3820978b"),e=e(),P(),e),D={class:"m_article"},$={class:"article_top flexb"},E=U((()=>w("div",null,"软文库",-1))),S=j("新建"),M={class:"dmp_table"},W=["src","onClick"],B=["onClick"],H={class:"fcs"},J={class:"els"},N={class:"fcs"},q=j("删除"),A=U((()=>w("div",{class:"line"},null,-1))),F=j("编辑"),G=j("查看"),L=j("驳回原因"),Q=f((R=((e,a)=>{for(var t in a||(a={}))r.call(a,t)&&i(e,t,a[t]);if(l)for(var t of l(a))s.call(a,t)&&i(e,t,a[t]);return e})({},{name:"我的作品库-软文"}),a(R,t({setup(e){const a=b(1),t=b(0),l=b(10),r=b([]),s=async()=>{const e=await v({size:l.value,current:a.value});1===e.status&&(r.value=e.body.records,t.value=e.body.total)};s();const i=()=>{s()},c=b([]),f=e=>{c.value=e},K=b(""),P=b(!1),U=()=>{y({id:K.value}).then((e=>{1==e.status&&(s(),P.value=!1)}))},Q=b(!1),R=b(""),T=b([]),X=b(!1),Y=b(0);return(e,s)=>{const c=I("el-button"),v=I("el-table-column"),y=I("el-link"),b=I("el-table"),Z=I("el-image-viewer");return _(),k("div",D,[w("div",$,[E,w("div",null,[h(c,{type:"primary",class:"add_need_btn",onClick:s[0]||(s[0]=a=>e.$router.push("/product/cms/mywork/articleadd"))},{default:g((()=>[h(p,{href:"#icon-tianjia",size:"14px",color:"white",class:"add_need_icon"}),S])),_:1})])]),w("div",M,[h(b,{data:r.value,style:{width:"100%"},onSelectionChange:f},{empty:g((()=>[h(u)])),default:g((()=>[h(v,{type:"selection",width:"50"}),h(v,{property:"id",label:"ID","min-width":"100"}),h(v,{property:"thumb_url",label:"封面图片","min-width":"100"},{default:g((({row:e})=>[w("img",{src:e.thumb_url,alt:"",class:"firstimg lookhover",onClick:a=>(e=>{const a=[];r.value.forEach((e=>{a.push(e.thumb_url)})),T.value=a,Y.value=T.value.findIndex((a=>a==e)),X.value=!0})(e.thumb_url)},null,8,W)])),_:1}),h(v,{property:"title",label:"标题","min-width":"160"},{default:g((({row:a})=>[4!=a.status?(_(),C(y,{key:0,type:"primary",onClick:t=>e.$router.push(1==a.status?"/product/cms/mywork/articleadd?id="+a.id:"/product/cms/mywork/articledetails?id="+a.id)},{default:g((()=>[j(x(a.title),1)])),_:2},1032,["onClick"])):z("",!0),4==a.status?(_(),k("span",{key:1,onClick:()=>{R.value=a.fail_reason,Q.value=!0}},x(a.title),9,B)):z("",!0)])),_:1}),h(v,{property:"create_time",label:"创建日期","min-width":"100"},{default:g((({row:e})=>[w("div",null,x(O(o)(new Date(e.create_time),"yyyy-MM-dd")),1)])),_:1}),h(v,{property:"status",label:"状态","min-width":"100"},{default:g((({row:e})=>[w("div",H,[w("div",{class:V(["status_dot",O(m)(e.status).className])},null,2),w("div",null,x(O(m)(e.status).text),1)])])),_:1}),h(v,{property:"user_name",label:"创作人","min-width":"120"},{default:g((({row:e})=>[w("div",J,x(e.user_name),1)])),_:1}),h(v,{label:"操作",fixed:"right",width:"150"},{default:g((({row:a})=>[w("div",N,[h(y,{type:"primary",onClick:e=>{return t=a.id,K.value=t,void(P.value=!0);var t}},{default:g((()=>[q])),_:2},1032,["onClick"]),A,1==a.status?(_(),C(y,{key:0,type:"primary",onClick:t=>e.$router.push("/product/cms/mywork/articleadd?id="+a.id)},{default:g((()=>[F])),_:2},1032,["onClick"])):z("",!0),2==a.status||3==a.status?(_(),C(y,{key:1,type:"primary",onClick:t=>e.$router.push("/product/cms/mywork/articledetails?id="+a.id)},{default:g((()=>[G])),_:2},1032,["onClick"])):z("",!0),4==a.status?(_(),C(y,{key:2,type:"primary",onClick:e=>{return t=a.fail_reason,R.value=t,void(Q.value=!0);var t}},{default:g((()=>[L])),_:2},1032,["onClick"])):z("",!0)])])),_:1})])),_:1},8,["data"])]),h(d,{page:a.value,"onUpdate:page":s[1]||(s[1]=e=>a.value=e),size:l.value,"onUpdate:size":s[2]||(s[2]=e=>l.value=e),total:t.value,onChange:i},null,8,["page","size","total"]),h(n,{modelValue:P.value,"onUpdate:modelValue":s[3]||(s[3]=e=>P.value=e),msg:"确认删除这条数据吗?",onSure:U},null,8,["modelValue"]),h(n,{modelValue:Q.value,"onUpdate:modelValue":s[4]||(s[4]=e=>Q.value=e),msg:R.value,title:"拒绝原因",btn:1},null,8,["modelValue","msg"]),X.value?(_(),C(Z,{key:0,"url-list":T.value,"initial-index":Y.value,onClose:s[5]||(s[5]=e=>X.value=!1)},null,8,["url-list","initial-index"])):z("",!0)])}}}))));var R,T=c(Q,[["__scopeId","data-v-3820978b"]]);export{T as default};
