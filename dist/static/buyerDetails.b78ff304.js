import{K as e}from"./KzTopBtns.baf6f18f.js";import{K as a}from"./KzEmpty.b11d49f7.js";import{K as t}from"./KzPage.9c6d1927.js";import{K as l}from"./KzDmpTitle.75aa6a30.js";import{H as s,g as r,u as o,$ as p,o as d,I as i,J as n,a as u,B as c,w as y,a3 as m,ay as b,r as f,ad as v}from"./vue.a499711c.js";import{f as _}from"./date.23847c74.js";import{g,c as j,s as z}from"./seekAbroad.7f2a93bf.js";import{_ as h}from"./index.561f5261.js";import"./KzDialog.9ecb6295.js";import"./kzkf.83b11867.js";import"./tinymce.275386ab.js";const w={class:"kz_card my_buyer_page dmp_page"},K={class:"fsc mb20"},k={class:"dmp_table"},D={style:{width:"100px"}},S={class:"els"};var x=h(s({name:"buyerDetails",setup(s){const h=b(),x=r([]),B=r(0),C=r(10),H=r(1),I=r(!1),M=async()=>{I.value=!0;const e={current:H.value,size:C.value,id:h.query.id},{status:a,body:t}=await j(e);I.value=!1,a&&(B.value=t.total,x.value=t.records)};M();const R=r([]),T=e=>{R.value=e.map((e=>e.id))},U=r(),q=r(),A=o((()=>!R.value.length)),E=async()=>{q.value.setLoading(!0);const e=await z({list:R.value});q.value.close(e.message),R.value=[],U.value.clearSelection()};return(s,r)=>{const o=f("el-table-column"),b=f("el-tooltip"),j=f("el-table"),z=v("loading");return p((d(),i("div",w,[n("div",K,[u(l,{total:B.value},null,8,["total"]),u(e,{ref_key:"topBtnRef",ref:q,type:"sync",syncbtn:"","sync-api":c(g),"sync-disabled":c(A),onSync:E},null,8,["sync-api","sync-disabled"])]),n("div",k,[u(j,{ref_key:"tableRef",ref:U,data:x.value,height:"100%",onSelectionChange:T},{empty:y((()=>[u(a)])),default:y((()=>[u(o,{type:"selection",width:"50"}),u(o,{property:"id",label:"序号"}),u(o,{property:"name",label:"企业名称"}),u(o,{property:"contact",label:"联系人"}),u(o,{property:"mobiles",label:"联系方式"}),u(o,{property:"email",label:"邮箱"}),u(o,{property:"country_id",label:"地区"}),u(o,{property:"address",label:"公司地址"},{default:y((({row:e})=>[u(b,{effect:"dark",placement:"top"},{content:y((()=>[n("div",D,m(e.address),1)])),default:y((()=>[n("div",S,m(e.address),1)])),_:2},1024)])),_:1}),u(o,{property:"url",label:"企业官网"}),u(o,{property:"code",label:"HS编码"}),u(o,{property:"product_number",label:"数量"}),u(o,{property:"product_weight",label:"重量（kg）"}),u(o,{property:"shipment_port",label:"出货港口"}),u(o,{property:"unload_port",label:"卸货港口"}),u(o,{property:"industry_id",label:"更新日期"},{default:y((({row:e})=>[n("div",null,m(c(_)(new Date(Number(e.create_time)),"yyyy-MM-dd")),1)])),_:1})])),_:1},8,["data"])]),u(t,{page:H.value,"onUpdate:page":r[0]||(r[0]=e=>H.value=e),size:C.value,"onUpdate:size":r[1]||(r[1]=e=>C.value=e),total:B.value,onChange:M},null,8,["page","size","total"])])),[[z,I.value]])}}}),[["__scopeId","data-v-130e13c7"]]);export{x as default};
