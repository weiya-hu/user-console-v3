import{g as e,_ as a,m as s,a as l,v as n}from"./index.3ae4cc0f.js";import{H as t,ax as i,g as v,u as c,o,I as d,J as r,P as m,aa as u,W as _,a2 as f,B as w,a0 as p,X as y,a1 as g,av as x,aw as b,q as h,a as N,w as k,_ as I,b as C,ae as S,c as J}from"./vue.fa004e33.js";import{f as M}from"./date.23847c74.js";import"./tinymce.50e98bcc.js";const j=e=>(x("data-v-569fa668"),e=e(),b(),e),O={class:"news_nav"},T={key:0,class:"flexb news_nav_pre"},z=["onClick"],q=g(" 更多 "),L={key:0,class:"news_nav_more_model"},W=j((()=>r("div",{class:"news_nav_more_model_more"},null,-1))),B=["onClick"],D=["onClick"];var E=a(t({emits:["navChange"],setup(a,{emit:n}){const t=s(),g=i(),x=v([]),b=v(),N=v(),k=v(!1);(async()=>{const{status:a,body:s}=await e("official ","/public/type.list"),i=l("newsTypeId"),v=l("newsId");a&&(()=>{const e=i||t.state.newsMayLikeId;x.value=s,b.value=v?null:e,C(),v||(g.push("/news?newsTypeId="+e),n("navChange",e))})()})();const I=c((()=>e=>{const a=JSON.parse(JSON.stringify(x.value));return e?a.splice(0,11):a.splice(11,a.length)})),C=()=>{h((()=>{const e=document.querySelector(".news_nav_item_active");e&&(N.value=e.offsetLeft+e.offsetWidth/2-16)}))},S=e=>{const a=l("newsId");b.value=e,g.push("/news?newsTypeId="+e),!a&&(n("navChange",e),C())};return(e,a)=>(o(),d("div",O,[x.value.length>12?(o(),d("div",T,[r("div",{class:"flexb news_nav_pre_son",onSelectstart:a[0]||(a[0]=()=>!1)},[(o(!0),d(m,null,u(w(I)(!0),((e,a)=>(o(),d("div",{key:a,class:_(b.value==e.id?"news_nav_item news_nav_item_active":"news_nav_item"),onClick:a=>S(e.id)},f(e.name),11,z)))),128))],32),r("div",{class:"news_nav_more fleximg",onMouseenter:a[1]||(a[1]=e=>k.value=!0),onMouseleave:a[2]||(a[2]=e=>k.value=!1)},[q,k.value?(o(),d("div",L,[W,r("div",{class:_(w(I)(!1).length>4?"news_nav_more_content flexl flex_wrap_width":"news_nav_more_content flexl")},[(o(!0),d(m,null,u(w(I)(!1),((e,a)=>(o(),d("div",{key:a,class:"news_nav_more_item fleximg",onClick:s=>((e,a)=>{const s=JSON.parse(JSON.stringify(x.value));s.splice(11+a,1),s.splice(10,0,e),k.value=!1,x.value=s,S(e.id)})(e,a)},f(e.name),9,B)))),128))],2)])):p("",!0)],32),b.value?(o(),d("div",{key:0,class:"news_line",style:y("left:"+N.value+"px")},null,4)):p("",!0)])):(o(),d("div",{key:1,class:_(x.value.length<=10?"flexl news_nav_pre news_nav_pre_mright":"flexb news_nav_pre")},[(o(!0),d(m,null,u(x.value,((e,a)=>(o(),d("div",{key:a,class:_(b.value==e.id?"news_nav_item news_nav_item_active":"news_nav_item"),onClick:a=>S(e.id)},f(e.name),11,D)))),128)),b.value?(o(),d("div",{key:0,class:"news_line",style:y("left:"+N.value+"px")},null,4)):p("",!0)],2))]))}}),[["__scopeId","data-v-569fa668"]]);const H=e=>(x("data-v-e73d3994"),e=e(),b(),e),P={className:"news-list-item flexb"},X={className:"fleximg coverimg"},A=["src"],F=["className"],G={className:"title"},K={className:"item-content"},Q={className:"flexb news-list-item-bottom"},R={className:"color3"},U={className:"flexr"},V={className:"color3"},Y=H((()=>r("div",{className:"flexl share"},null,-1))),Z=H((()=>r("div",{className:"flexl star"},null,-1))),$={className:"flexl"},ee={className:"color3"},ae=H((()=>r("div",null,null,-1)));var se=a(t({props:{item:null,size:{default:"small"}},setup(e){const a=e;return(e,s)=>(o(),d("div",P,[r("div",X,[r("img",{src:a.item.thumb_url?a.item.thumb_url:w(n)(),alt:"cover",onError:s[0]||(s[0]=e=>{e.target.src=n()})},null,40,A)]),r("div",{className:"big"===a.size?"flexcbl news-list-item-right  news-list-item-right-big":"flexcbl news-list-item-right"},[r("div",null,[r("div",G,f(a.item.title),1),r("div",K,f(a.item.content),1)]),r("div",Q,[r("div",R,f(a.item.creator_name),1),r("div",U,[r("div",V,f(w(M)(new Date(a.item.update_time),"yyyy年MM月dd日")),1),Y,Z,r("div",$,[r("span",ee,f(a.item.readed),1)]),ae])])],8,F)]))}}),[["__scopeId","data-v-e73d3994"]]);const le={class:"flexb news_main"},ne={class:"nav_pre"},te={class:"newses"},ie=(e=>(x("data-v-3e8d9481"),e=e(),b(),e))((()=>r("div",null,null,-1)));var ve=a(t({setup(a){v(12);const s=v(1),n=v(10),t=v(),i=()=>{_(l("newsTypeId"))},c=e=>{t.value=[],_(e)},_=async a=>{const l={current:s.value,size:n.value,typeId:a},{status:i,body:v}=await(c=l,e("official ","/public/info.page",c));var c;i&&(t.value=t.value.concat(v.records),s.value+=1)};return(e,a)=>{const s=C("el-scrollbar"),l=S("infinite-scroll");return o(),d("div",le,[r("div",null,[r("div",ne,[N(E,{onNavChange:c})]),N(s,{class:"news_list"},{default:k((()=>[I((o(),d("div",te,[(o(!0),d(m,null,u(t.value,((e,a)=>(o(),J(se,{key:a,item:e},null,8,["item"])))),128))])),[[l,i]])])),_:1})]),ie])}}}),[["__scopeId","data-v-3e8d9481"]]);export{ve as default};
