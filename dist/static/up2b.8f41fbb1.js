import{K as a}from"./KzTopBtns.cf198609.js";import{f as e}from"./date.23847c74.js";import{K as s}from"./KzDataUpUser.83f3bd28.js";import{K as t}from"./KzEmpty.d7f95ebf.js";import{K as l}from"./KzPage.270569e7.js";import{g as o,s as r,u as d}from"./myData.5e61016f.js";import{_ as p,A as u}from"./index.fde176ed.js";import{H as i,g as n,u as c,o as m,I as y,J as v,a as f,B as b,w as g,$ as _,c as z,Y as w,a3 as j,av as K,aw as k,a2 as h,r as U,ad as C}from"./vue.a499711c.js";import"./KzDialog.552d8a23.js";import"./KzUpload.2bb38088.js";import"./tinymce.275386ab.js";const D={class:"kz_card my_up2b_page dmp_page"},I={class:"fsc f1"},x=(a=>(K("data-v-ed97fd56"),a=a(),k(),a))((()=>v("div",{class:"card_title"},"上传2B数据",-1))),B={class:"btns fsc"},L=h("上传数据"),S={class:"dmp_table"},V={class:"ss"},A={class:"fcs"},M=h("详情");var $=p(i({name:"up2b",setup(p){const i=n([]),K=n(0),k=n(10),h=n(1),$=n(!1),E=n(!1),H=n(),J=n(),N=c((()=>J.value&&!J.value.selIdList.length)),P=async()=>{H.value.setLoading(!0);const a=await r({list:J.value.selIdList,type:1});H.value.close(a.message),J.value.clear()},R=async()=>{$.value=!0;const a={current:h.value,type:1,size:k.value},{status:e,body:s}=await d(a);$.value=!1,e&&(K.value=s.total,i.value=s.records)};R();const T=()=>{h.value=1,R()};return(r,d)=>{const p=U("el-icon"),n=U("el-button"),c=U("el-table-column"),J=U("el-link"),Y=U("el-table"),q=C("loading");return m(),y("div",D,[v("div",I,[x,v("div",B,[f(a,{ref_key:"topBtnRef",ref:H,type:"sync",syncbtn:"","sync-api":b(o),"sync-disabled":b(N),class:"topbtns mr20",onSync:P},null,8,["sync-api","sync-disabled"]),f(n,{type:"primary",onClick:d[0]||(d[0]=a=>E.value=!0)},{default:g((()=>[f(p,{size:"14px",style:{"margin-right":"4px"}},{default:g((()=>[f(b(u))])),_:1}),L])),_:1})])]),v("div",S,[_((m(),z(Y,{data:i.value,size:"large","row-class-name":"my-data-table-row"},{empty:g((()=>[f(t)])),default:g((()=>[f(c,{type:"selection",width:"50"}),f(c,{property:"id",label:"ID"}),f(c,{property:"group_name",label:"人群名称"}),f(c,{property:"group_desc",label:"人群描述"}),f(c,{property:"status",label:"状态"},{default:g((({row:a})=>[v("div",V,[v("div",{class:"point",style:w(1==a.state?"background:#67C23A":"background:#2150ec")},null,4),v("span",null,j(1==a.state?"已受理":"已完结"),1)])])),_:1}),f(c,{property:"count",label:"用户数"}),f(c,{property:"create_time",label:"创建时间"},{default:g((({row:a})=>[v("div",null,j(b(e)(new Date(Number(a.create_time)),"yyyy-MM-dd")),1)])),_:1}),f(c,{label:"操作",width:"300"},{default:g((({row:a})=>[v("div",A,[f(J,{type:"primary",onClick:e=>r.$router.push("/product/dmp/mydata/up2bdetails?id="+a.id)},{default:g((()=>[M])),_:2},1032,["onClick"])])])),_:1})])),_:1},8,["data"])),[[q,$.value]])]),f(l,{page:h.value,"onUpdate:page":d[1]||(d[1]=a=>h.value=a),size:k.value,"onUpdate:size":d[2]||(d[2]=a=>k.value=a),total:K.value,onChange:R},null,8,["page","size","total"]),f(s,{modelValue:E.value,"onUpdate:modelValue":d[3]||(d[3]=a=>E.value=a),onSubmitSuccess:T},null,8,["modelValue"])])}}}),[["__scopeId","data-v-ed97fd56"]]);export{$ as default};
