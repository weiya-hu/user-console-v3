import{g as a,a as e}from"./personnelManage.685030af.js";import{H as s,g as i,u as t,o,I as l,a as n,w as c,J as d,a1 as r,a2 as u,B as m,a0 as v,av as g,aw as f,ax as p,ay as b,b as w}from"./vue.fa004e33.js";import{_ as y,m as _,o as h}from"./index.e8eb8543.js";import"./tinymce.50e98bcc.js";const x=a=>(g("data-v-26c6f54a"),a=a(),f(),a),N={key:0,class:"rz_dialog_hll"},$={class:"mid"},j={class:"mr"},k={class:"fir"},q=r("， "),I=x((()=>d("div",null,"是否接受邀请？",-1))),U={class:"imgs"},B=["src"],C={class:"cc"},S=r("接受邀请");var V=y(s({setup(s){const g=p(),f=b(),y=_(),x=i(!1);"undefined"!=typeof window&&void 0!==window.navigator&&(/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)&&y.getYxtUrl().then((a=>{window.location.href="https://"+a.mobile+`/app/login${location.search}`})),x.value=!0);const V=f.query.uid,A=f.query.sign,P=f.query.cid,z=f.query.left_time,H=t((()=>y.state.userInfo.id));t((()=>y.state.yxtUrl.mobile));const J=i(!0),M=i({});(async()=>{const{body:e,status:s}=await a({cid:Number(P),uid:Number(V),sign:A.toString(),left_time:Number(z)});s&&(M.value=e)})();const O=async()=>{if(H.value){const{body:a}=await e({cid:Number(P),uid:Number(V),sign:A.toString(),left_time:Number(z)});h(2===a?"已经加入该企业，无需再次申请":"申请加入中，等待企业管理员同意/拒绝")}else h("请登录后接受邀请"),g.replace("/login?url="+encodeURIComponent(window.location.origin+`/invite?uid=${V}&sign=${A}&left_time=${z}&cid=${P}`))},R=()=>{h("已拒绝邀请")};return(a,e)=>{const s=w("el-button"),i=w("el-dialog");return x.value?(o(),l("div",N,[n(i,{modelValue:J.value,"onUpdate:modelValue":e[0]||(e[0]=a=>J.value=a),width:"500px","custom-class":"invites_dialog","show-close":!1},{default:c((()=>[d("div",$,[d("div",j,[d("div",k,[d("div",null,[r(u(M.value.user_name)+"邀请你加入 ",1),d("span",null,u(M.value.company_name),1),q])]),I])]),d("div",U,[d("img",{src:m("/static/invite.07fbb278.png"),alt:""},null,8,B),d("div",C,[d("span",{onClick:R},"拒绝邀请"),n(s,{class:"accept",onClick:O},{default:c((()=>[S])),_:1})])])])),_:1},8,["modelValue"])])):v("",!0)}}}),[["__scopeId","data-v-26c6f54a"]]);export{V as default};
