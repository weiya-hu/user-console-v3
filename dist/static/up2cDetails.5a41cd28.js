import{K as a}from"./KzTopBtns.840b738a.js";import{K as e}from"./KzDmpTitle.9b0cc381.js";import{K as t}from"./KzEmpty.640dfbae.js";import{K as s}from"./KzPage.0e73684e.js";import{_ as l,m as o,O as r,P as i}from"./index.a202d357.js";import{H as c,u as p,g as n,o as d,I as u,J as y,a as m,B as v,_ as b,c as f,w as _,a1 as g,a2 as z,ay as w,b as j,ae as K}from"./vue.fa004e33.js";import{g as h,b as x,s as k}from"./myData.c30a8b4b.js";import"./KzDialog.8a40b047.js";import"./tinymce.50e98bcc.js";const B={class:"kz_card my_up2b_page"},D={class:"fsc f1"},H={class:"dmp_table"},q={style:{width:"100px"}};var I=l(c({setup(l){const c=o(),I=p((()=>c.state.typeHash)),P=p((()=>c.state.addressHash)),S=w();S.query.id;const T=n([]),U=n(0),C=n(10),E=n(1),J=n(!1),L=async()=>{J.value=!0;const a={current:E.value,size:C.value,id:S.query.id},{status:e,body:t}=await x(a);J.value=!1,e&&(U.value=t.total,T.value=t.records)};L();const O=n([]),R=n(),A=n(),F=p((()=>!O.value.length)),G=async()=>{A.value.setLoading(!0);const a=await k({list:O.value,type:2});A.value.close(a.message),O.value=[],R.value.clearSelection()};return(l,o)=>{const c=j("el-table-column"),p=j("el-tooltip"),n=j("el-table"),w=K("loading");return d(),u("div",B,[y("div",D,[m(e,{total:U.value,class:"pt20 pb20 ml16"},null,8,["total"]),m(a,{ref_key:"topBtnRef",ref:A,type:"sync",syncbtn:"","sync-api":v(h),"sync-disabled":v(F),class:"topbtns mr20",onSync:G},null,8,["sync-api","sync-disabled"])]),y("div",H,[b((d(),f(n,{data:T.value,size:"large","row-class-name":"my-data-table-row"},{empty:_((()=>[m(t)])),default:_((()=>[m(c,{type:"selection",width:"50"}),m(c,{property:"contact",label:"姓名"}),m(c,{property:"sex",label:"性别"},{default:_((({row:a})=>[g(z(1===a.sex?"男":"女"),1)])),_:1}),m(c,{property:"mobiles",label:"联系方式"}),m(c,{property:"email",label:"邮箱"}),m(c,{property:"industry_id",label:"从事行业"},{default:_((a=>[y("div",null,z(v(r)(a.row.industry_id.split(","),v(I),"last")),1)])),_:1}),m(c,{property:"city",label:"地区"},{default:_((({row:a})=>[m(p,{effect:"dark",placement:"top"},{content:_((()=>[y("div",q,z(v(r)(v(i)(a.province,a.city,a.district),v(P))),1)])),default:_((()=>[y("div",null,z(v(r)(v(i)(a.province,a.city,a.district),v(P))),1)])),_:2},1024)])),_:1})])),_:1},8,["data"])),[[w,J.value]])]),m(s,{page:E.value,"onUpdate:page":o[0]||(o[0]=a=>E.value=a),size:C.value,"onUpdate:size":o[1]||(o[1]=a=>C.value=a),total:U.value,onChange:L},null,8,["page","size","total"])])}}}),[["__scopeId","data-v-65c11d9c"]]);export{I as default};
