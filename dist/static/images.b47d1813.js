import{i as a,K as e}from"./KzUpUser.3057772c.js";import{K as l}from"./KzDataTable.cbfc5570.js";import{K as t}from"./KzPage.270569e7.js";import{K as s}from"./KzEmpty.d7f95ebf.js";import{K as o}from"./KzDialog.552d8a23.js";import{a as u,b as d}from"./custom.9ab95a7d.js";import{_ as i}from"./index.fde176ed.js";import{H as p,g as r,o as m,I as n,J as c,a as v,w as y,B as b,$ as _,c as f,P as w,aa as k,a1 as h,av as g,aw as j,a2 as z,r as K,ad as V}from"./vue.a499711c.js";import"./KzUpload.2bb38088.js";import"./date.23847c74.js";import"./tinymce.275386ab.js";const C={class:"kz_card"},U={class:"arl_card"},x={class:"arl_top"},D=(a=>(g("data-v-44328399"),a=a(),j(),a))((()=>c("div",{class:"arl_title"},"图片库",-1))),I=z("同步数据"),S=["src"],P=z(" 新建  "),$={class:"cms_table"},B={class:"link_bts"},E=z("详情"),H=z("驳回原因"),J=z("删除"),T={key:3,class:"line"},q=z("- - -");var A=i(p({name:"images",setup(i){const p=r([]),g=r([{type:"select",width:80,prop:"select"},{type:"text",lable:"需求ID",prop:"id",width:150},{type:"text",lable:"标题",prop:"title",width:140},{type:"text-tooltip",lable:"描述",prop:"detail",width:230},{type:"date",lable:"创建日期",prop:"create_time",width:130},{type:"status_do",lable:"状态",prop:"status",width:100},{type:"text",lable:"创建人",prop:"user_name",width:130}]),j=r(!1),z=r(1),A=r(10),F=r(0),G=r(!1),L=r(!1),M=r(""),N=r(!1),O=r(""),Q=async()=>{j.value=!0;const a=await u({size:A.value,current:z.value},2);j.value=!1,1===a.status&&(F.value=a.body.total,p.value=a.body.records)};Q();const R=()=>{d({id:M.value},2).then((a=>{1===a.status&&(Q(),L.value=!1)}))},W=()=>{G.value=!1,Q()};return(u,d)=>{const i=K("el-button"),r=K("el-link"),X=K("el-table-column"),Y=K("el-table"),Z=V("loading");return m(),n("div",C,[c("div",U,[c("div",x,[D,c("div",null,[v(i,{class:"bdc_btn"},{default:y((()=>[I])),_:1}),v(i,{type:"primary",onClick:d[0]||(d[0]=a=>G.value=!0)},{default:y((()=>[c("img",{src:b(a),alt:""},null,8,S),P])),_:1})])]),c("div",null,[c("div",$,[_((m(),f(Y,{data:p.value,style:{width:"100%"},"row-class-name":"my-data-table-row"},{empty:y((()=>[v(s)])),default:y((()=>[(m(!0),n(w,null,k(g.value,((a,e)=>(m(),f(l,{key:e,type:a.type,width:a.width,lable:a.lable,prop:a.prop},null,8,["type","width","lable","prop"])))),128)),v(X,{width:"180",label:"操作"},{default:y((({row:a})=>[c("div",B,[4==a.status?(m(),f(r,{key:0,type:"primary",onClick:e=>u.$router.push("/product/cms/custom/imagesdetail?id="+a.id)},{default:y((()=>[E])),_:2},1032,["onClick"])):h("",!0),3==a.status?(m(),f(r,{key:1,type:"primary",onClick:e=>{O.value=a.fail_reason,N.value=!0}},{default:y((()=>[H])),_:2},1032,["onClick"])):h("",!0),2!=a.status?(m(),f(r,{key:2,type:"primary",onClick:e=>{return l=a.id,M.value=l,void(L.value=!0);var l}},{default:y((()=>[J])),_:2},1032,["onClick"])):h("",!0),1!=a.status&&2!=a.status?(m(),n("div",T)):h("",!0),2==a.status?(m(),f(r,{key:4,type:"primary",class:"t_btns"},{default:y((()=>[q])),_:1})):h("",!0)])])),_:1})])),_:1},8,["data"])),[[Z,j.value]])]),v(t,{page:z.value,"onUpdate:page":d[1]||(d[1]=a=>z.value=a),size:A.value,"onUpdate:size":d[2]||(d[2]=a=>A.value=a),total:F.value,onChange:Q},null,8,["page","size","total"])])]),v(e,{modelValue:G.value,"onUpdate:modelValue":d[3]||(d[3]=a=>G.value=a),type:2,onSubmitSuccess:W},null,8,["modelValue"]),v(o,{modelValue:L.value,"onUpdate:modelValue":d[4]||(d[4]=a=>L.value=a),msg:"确认删除这条数据吗?",onSure:R},null,8,["modelValue"]),v(o,{modelValue:N.value,"onUpdate:modelValue":d[5]||(d[5]=a=>N.value=a),msg:O.value,title:"驳回原因",btn:1},null,8,["modelValue","msg"])])}}}),[["__scopeId","data-v-44328399"]]);export{A as default};
