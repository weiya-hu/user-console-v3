import{m as a,n as e,o as t}from"./myinfo.9e5b6f26.js";import{_ as l,m as s,C as o,T as i,U as r,a7 as c,o as d,e as p}from"./index.561f5261.js";import{K as n}from"./KzEmpty.b11d49f7.js";import{H as u,u as y,g as v,o as _,I as f,J as m,c as b,w as k,B as h,a1 as C,a as w,X as x,a3 as g,av as j,aw as V,a2 as $,ax as U,r as z}from"./vue.a499711c.js";import"./tinymce.275386ab.js";const H={class:"kz_card my_company_page"},I={class:"card_title fsc"},K=(a=>(j("data-v-16274465"),a=a(),V(),a))((()=>m("div",null,"我的企业",-1))),B=$("添加企业"),E={class:"card_content"},J={class:"fsc"},N=$("已加入企业"),T=$("待审核企业"),X={key:0,class:"tab_box"},q={style:{width:"100px"}},A={style:{width:"100px"}},D={class:"els"},F={key:1,class:"tab_box"},G={style:{width:"100px"}},L={class:"fcs"},M={class:"fcs"},O=$("编辑"),P=$("删除"),Q=$("查看"),R=$("重新提交"),S={class:"fcs fjend pb20"},W=$("取消"),Y=$("保存");var Z=l(u({name:"myCompany",setup(l){const u=U(),j=s(),V=y((()=>j.state.addressHash)),$=v(1),Z=v([]);(async()=>{const e=await a();1===e.status&&(Z.value=e.body)})();const aa=v([]),ea=async()=>{const a=await e();1===a.status&&(aa.value=a.body)};ea();const ta=v(!1),la=v(""),sa=()=>{u.replace("/manage/company/authentication?name="+la.value)};return(a,e)=>{const l=z("el-button"),s=z("el-button-group"),u=z("el-table-column"),y=z("el-tooltip"),v=z("el-table"),j=z("el-link"),U=z("el-input"),oa=z("el-dialog");return _(),f("div",H,[m("div",I,[K,Z.value.length<3?(_(),b(l,{key:0,type:"primary",icon:h(o),onClick:e[0]||(e[0]=e=>a.$router.push("authentication"))},{default:k((()=>[B])),_:1},8,["icon"])):C("",!0)]),m("div",E,[m("div",J,[w(s,{class:"btn_tab"},{default:k((()=>[w(l,{class:x(1==$.value&&"btn_tab_active"),onClick:e[1]||(e[1]=a=>$.value=1)},{default:k((()=>[N])),_:1},8,["class"]),w(l,{class:x(2==$.value&&"btn_tab_active"),onClick:e[2]||(e[2]=a=>$.value=2)},{default:k((()=>[T])),_:1},8,["class"])])),_:1})]),1==$.value?(_(),f("div",X,[w(v,{data:Z.value,border:""},{empty:k((()=>[w(n)])),default:k((()=>[w(u,{property:"name",label:"企业名称"}),w(u,{property:"code",label:"统一社会信用代码"}),w(u,{property:"legal_person",label:"联系人"}),w(u,{property:"contact",label:"联系电话"}),w(u,{property:"city_id",label:"地区"},{default:k((({row:a})=>[w(y,{effect:"dark",placement:"top"},{content:k((()=>[m("div",q,g(a.province>0&&h(i)(h(r)(a.province,a.city,a.district),h(V))),1)])),default:k((()=>[m("div",null,g(a.province>0&&h(i)(h(r)(a.province,a.city,a.district),h(V))),1)])),_:2},1024)])),_:1}),w(u,{property:"address",label:"详细地址"},{default:k((({row:a})=>[w(y,{effect:"dark",placement:"top"},{content:k((()=>[m("div",A,g(a.address),1)])),default:k((()=>[m("div",D,g(a.address),1)])),_:2},1024)])),_:1}),w(u,{property:"business_scope",label:"经营范围"})])),_:1},8,["data"])])):C("",!0),2==$.value?(_(),f("div",F,[w(v,{data:aa.value,border:""},{empty:k((()=>[w(n)])),default:k((()=>[w(u,{property:"name",label:"企业名称"}),w(u,{property:"code",label:"统一社会信用代码"}),w(u,{property:"legal_person",label:"联系人"}),w(u,{property:"contact",label:"联系电话"}),w(u,{property:"city_id",label:"地区"},{default:k((({row:a})=>[w(y,{effect:"dark",placement:"top"},{content:k((()=>[m("div",G,g(h(i)(h(r)(a.province,a.city,a.district),h(V))),1)])),default:k((()=>[m("div",null,g(h(i)(h(r)(a.province,a.city,a.district),h(V))),1)])),_:2},1024)])),_:1}),w(u,{property:"address",label:"详细地址"}),w(u,{property:"business_scope",label:"经营范围"}),w(u,{property:"status",label:"状态"},{default:k((({row:a})=>[m("div",L,[m("div",{class:x(["status_dot",h(c)(a.status).className])},null,2),m("div",null,g(h(c)(a.status).text),1)])])),_:1}),w(u,{property:"fail_reason",label:"备注"}),w(u,{label:"操作"},{default:k((({row:e})=>[m("div",M,[1==e.status?(_(),b(j,{key:0,type:"primary",onClick:t=>a.$router.push("authentication?id="+e.id)},{default:k((()=>[O])),_:2},1032,["onClick"])):C("",!0),1==e.status?(_(),b(j,{key:1,type:"primary",onClick:a=>(async a=>{1==(await t({id:a})).status?d("操作成功！"):p("操作失败！"),ea()})(e.id)},{default:k((()=>[P])),_:2},1032,["onClick"])):C("",!0),2==e.status?(_(),b(j,{key:2,type:"primary",onClick:t=>a.$router.push("authentication?id="+e.id)},{default:k((()=>[Q])),_:2},1032,["onClick"])):C("",!0),4==e.status?(_(),b(j,{key:3,type:"primary",onClick:t=>a.$router.push("authentication?id="+e.id)},{default:k((()=>[R])),_:2},1032,["onClick"])):C("",!0)])])),_:1})])),_:1},8,["data"])])):C("",!0),w(oa,{modelValue:ta.value,"onUpdate:modelValue":e[5]||(e[5]=a=>ta.value=a),title:"新建企业",width:"380px"},{default:k((()=>[w(U,{modelValue:la.value,"onUpdate:modelValue":e[3]||(e[3]=a=>la.value=a),class:"pb20",placeholder:"请输企业名称"},null,8,["modelValue"]),m("div",S,[w(l,{onClick:e[4]||(e[4]=a=>ta.value=!1)},{default:k((()=>[W])),_:1}),w(l,{type:"primary",onClick:sa},{default:k((()=>[Y])),_:1})])])),_:1},8,["modelValue"])])])}}}),[["__scopeId","data-v-16274465"]]);export{Z as default};
