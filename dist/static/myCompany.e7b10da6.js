import{m as a,n as e,o as t}from"./myinfo.837c4317.js";import{_ as l,m as s,A as o,L as i,M as c,X as r,o as d,e as p}from"./index.00a686cf.js";import{K as n}from"./KzEmpty.72e49576.js";import{H as u,g as y,o as v,I as _,J as b,a as m,w as f,B as k,W as h,a2 as C,a0 as w,c as x,av as g,aw as j,a1 as V,ax as $,b as z}from"./vue.a94c4214.js";import"./tinymce.a8dd01a6.js";const H={class:"kz_card my_company_page"},I={class:"card_title fsc"},K=(a=>(g("data-v-470da76d"),a=a(),j(),a))((()=>b("div",null,"我的企业",-1))),U=V("添加企业"),A={class:"card_content"},B={class:"fsc"},E=V("已加入企业"),J=V("待审核企业"),L={key:0,class:"tab_box"},M={style:{width:"100px"}},N={key:1,class:"tab_box"},W={style:{width:"100px"}},X={class:"fcs"},q={class:"fcs"},D=V("编辑"),F=V("删除"),G=V("查看"),O=V("重新提交"),P={class:"fcs fjend pb20"},Q=V("取消"),R=V("保存");var S=l(u({setup(l){const u=$(),g=s(),j=y(g.state.addressHash),V=y(1),S=y([]);(async()=>{const e=await a();1===e.status&&(S.value=e.body)})();const T=y([]),Y=async()=>{const a=await e();1===a.status&&(T.value=a.body)};Y();const Z=y(!1),aa=y(""),ea=()=>{u.replace("/manage/company/authentication?name="+aa.value)};return(a,e)=>{const l=z("el-button"),s=z("el-button-group"),u=z("el-table-column"),y=z("el-tooltip"),g=z("el-table"),$=z("el-link"),ta=z("el-input"),la=z("el-dialog");return v(),_("div",H,[b("div",I,[K,m(l,{type:"primary",icon:k(o),onClick:e[0]||(e[0]=e=>a.$router.push("authentication"))},{default:f((()=>[U])),_:1},8,["icon"])]),b("div",A,[b("div",B,[m(s,{class:"btn_tab"},{default:f((()=>[m(l,{class:h(1==V.value&&"btn_tab_active"),onClick:e[1]||(e[1]=a=>V.value=1)},{default:f((()=>[E])),_:1},8,["class"]),m(l,{class:h(2==V.value&&"btn_tab_active"),onClick:e[2]||(e[2]=a=>V.value=2)},{default:f((()=>[J])),_:1},8,["class"])])),_:1})]),1==V.value?(v(),_("div",L,[m(g,{data:S.value,border:""},{empty:f((()=>[m(n)])),default:f((()=>[m(u,{property:"name",label:"企业名称"}),m(u,{property:"code",label:"统一社会信用代码"}),m(u,{property:"legal_person",label:"联系人"}),m(u,{property:"contact",label:"联系电话"}),m(u,{property:"city_id",label:"地区"},{default:f((({row:a})=>[m(y,{effect:"dark",placement:"top"},{content:f((()=>[b("div",M,C(a.province>0&&k(i)(k(c)(a.province,a.city,a.district),j.value)),1)])),default:f((()=>[b("div",null,C(a.province>0&&k(i)(k(c)(a.province,a.city,a.district),j.value)),1)])),_:2},1024)])),_:1}),m(u,{property:"address",label:"详细地址"}),m(u,{property:"business_scope",label:"经营范围"})])),_:1},8,["data"])])):w("",!0),2==V.value?(v(),_("div",N,[m(g,{data:T.value,border:""},{empty:f((()=>[m(n)])),default:f((()=>[m(u,{property:"name",label:"企业名称"}),m(u,{property:"code",label:"统一社会信用代码"}),m(u,{property:"legal_person",label:"联系人"}),m(u,{property:"contact",label:"联系电话"}),m(u,{property:"city_id",label:"地区"},{default:f((({row:a})=>[m(y,{effect:"dark",placement:"top"},{content:f((()=>[b("div",W,C(a.province>0&&k(i)(k(c)(a.province,a.city,a.district),j.value)),1)])),default:f((()=>[b("div",null,C(a.province>0&&k(i)(k(c)(a.province,a.city,a.district),j.value)),1)])),_:2},1024)])),_:1}),m(u,{property:"address",label:"详细地址"}),m(u,{property:"business_scope",label:"经营范围"}),m(u,{property:"status",label:"状态"},{default:f((({row:a})=>[b("div",X,[b("div",{class:h(["status_dot",k(r)(a.status).className])},null,2),b("div",null,C(k(r)(a.status).text),1)])])),_:1}),m(u,{property:"fail_reason",label:"备注"}),m(u,{label:"操作"},{default:f((({row:e})=>[b("div",q,[1==e.status?(v(),x($,{key:0,type:"primary",onClick:t=>a.$router.push("authentication?id="+e.id)},{default:f((()=>[D])),_:2},1032,["onClick"])):w("",!0),1==e.status?(v(),x($,{key:1,type:"primary",onClick:a=>(async a=>{1==(await t({id:a})).status?d("操作成功！"):p("操作失败！"),Y()})(e.id)},{default:f((()=>[F])),_:2},1032,["onClick"])):w("",!0),2==e.status?(v(),x($,{key:2,type:"primary",onClick:t=>a.$router.push("authentication?id="+e.id)},{default:f((()=>[G])),_:2},1032,["onClick"])):w("",!0),4==e.status?(v(),x($,{key:3,type:"primary",onClick:t=>a.$router.push("authentication?id="+e.id)},{default:f((()=>[O])),_:2},1032,["onClick"])):w("",!0)])])),_:1})])),_:1},8,["data"])])):w("",!0),m(la,{modelValue:Z.value,"onUpdate:modelValue":e[5]||(e[5]=a=>Z.value=a),title:"新建企业",width:"380px"},{default:f((()=>[m(ta,{modelValue:aa.value,"onUpdate:modelValue":e[3]||(e[3]=a=>aa.value=a),class:"pb20",placeholder:"请输企业名称"},null,8,["modelValue"]),b("div",P,[m(l,{onClick:e[4]||(e[4]=a=>Z.value=!1)},{default:f((()=>[Q])),_:1}),m(l,{type:"primary",onClick:ea},{default:f((()=>[R])),_:1})])])),_:1},8,["modelValue"])])])}}}),[["__scopeId","data-v-470da76d"]]);export{S as default};
