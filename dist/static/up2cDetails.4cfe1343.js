import{K as e}from"./KzTopBtns.2cd10e7d.js";import{K as a}from"./KzDmpTitle.c795f7a4.js";import{K as t}from"./KzEmpty.f9053af9.js";import{K as s}from"./KzPage.4594f013.js";import{_ as l,m as o,O as r,P as i}from"./index.20de6183.js";import{H as p,u as d,g as c,_ as n,o as u,I as y,J as f,a as m,B as v,w as b,a1 as _,a2 as g,ay as h,b as z,ae as j}from"./vue.fa004e33.js";import{g as w,b as K,s as k}from"./myData.1c4e8eca.js";import"./KzDialog.9ac52faf.js";import"./kzkf.83b11867.js";import"./tinymce.50e98bcc.js";const x={class:"kz_card my_up2c_page dmp_page"},B={class:"fsc mb20"},D={class:"dmp_table"},H={style:{width:"100px"}},S={style:{width:"100px"}},q={class:"els"};var C=l(p({setup(l){const p=o(),C=d((()=>p.state.typeHash)),I=d((()=>p.state.addressHash)),P=h();P.query.id;const R=c([]),T=c(0),U=c(10),E=c(1),J=c(!1),L=async()=>{J.value=!0;const e={current:E.value,size:U.value,id:P.query.id},{status:a,body:t}=await K(e);J.value=!1,a&&(T.value=t.total,R.value=t.records)};L();const O=c([]),A=e=>{O.value=e.map((e=>e.id))},F=c(),G=c(),M=d((()=>!O.value.length)),N=async()=>{G.value.setLoading(!0);const e=await k({list:O.value,type:2});G.value.close(e.message),O.value=[],F.value.clearSelection()};return(l,o)=>{const p=z("el-table-column"),d=z("el-tooltip"),c=z("el-table"),h=j("loading");return n((u(),y("div",x,[f("div",B,[m(a,{total:T.value},null,8,["total"]),m(e,{ref_key:"topBtnRef",ref:G,type:"sync",syncbtn:"","sync-api":v(w),"sync-disabled":v(M),onSync:N},null,8,["sync-api","sync-disabled"])]),f("div",D,[m(c,{ref_key:"tableRef",ref:F,data:R.value,height:"100%",onSelectionChange:A},{empty:b((()=>[m(t)])),default:b((()=>[m(p,{type:"selection",width:"50"}),m(p,{property:"contact",label:"姓名"}),m(p,{property:"sex",label:"性别"},{default:b((({row:e})=>[_(g(1===e.sex?"男":"女"),1)])),_:1}),m(p,{property:"mobiles",label:"联系方式"}),m(p,{property:"telephone",label:"固定电话"}),m(p,{property:"email",label:"邮箱"}),m(p,{property:"industry_id",label:"从事行业"},{default:b((e=>[f("div",null,g(v(r)(e.row.industry_id.split(","),v(C),"last")),1)])),_:1}),m(p,{property:"city",label:"地区"},{default:b((({row:e})=>[m(d,{effect:"dark",placement:"top"},{content:b((()=>[f("div",H,g(v(r)(v(i)(e.province,e.city,e.district),v(I))),1)])),default:b((()=>[f("div",null,g(v(r)(v(i)(e.province,e.city,e.district),v(I))),1)])),_:2},1024)])),_:1}),m(p,{property:"address",label:"详细地址"},{default:b((({row:e})=>[m(d,{effect:"dark",placement:"top"},{content:b((()=>[f("div",S,g(e.address),1)])),default:b((()=>[f("div",q,g(e.address),1)])),_:2},1024)])),_:1})])),_:1},8,["data"])]),m(s,{page:E.value,"onUpdate:page":o[0]||(o[0]=e=>E.value=e),size:U.value,"onUpdate:size":o[1]||(o[1]=e=>U.value=e),total:T.value,onChange:L},null,8,["page","size","total"])])),[[h,J.value]])}}}),[["__scopeId","data-v-2958ce00"]]);export{C as default};
