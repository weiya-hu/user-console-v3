import{K as a}from"./KzTopBtns.cf198609.js";import{K as e}from"./KzDmpTitle.bdbf5a2d.js";import{K as t}from"./KzEmpty.d7f95ebf.js";import{K as s}from"./KzPage.270569e7.js";import{_ as l,m as o,P as r,Q as p}from"./index.fde176ed.js";import{H as i,u as d,g as n,$ as c,o as u,I as y,J as m,a as b,B as v,c as f,w as _,a3 as g,ay as z,r as j,ad as w}from"./vue.a499711c.js";import{g as K,b as h,s as D}from"./myData.5e61016f.js";import"./KzDialog.552d8a23.js";import"./tinymce.275386ab.js";const k={class:"kz_card my_up2b_page dmp_page"},x={class:"fsc f1"},B={class:"dmp_table"},H={style:{width:"100px"}};var q=l(i({name:"up2bDetails",setup(l){const i=o(),q=d((()=>i.state.addressHash)),I=d((()=>i.state.typeHash)),P=z();P.query.id;const S=n([]),T=n(0),U=n(10),C=n(1),E=n(!1),J=async()=>{E.value=!0;const a={current:C.value,size:U.value,id:P.query.id},{status:e,body:t}=await h(a);E.value=!1,e&&(T.value=t.total,S.value=t.records)};J();const L=n([]),Q=n(),R=n(),$=d((()=>!L.value.length)),A=async()=>{R.value.setLoading(!0);const a=await D({list:L.value,type:1});R.value.close(a.message),L.value=[],Q.value.clearSelection()};return(l,o)=>{const i=j("el-table-column"),d=j("el-tooltip"),n=j("el-table"),z=w("loading");return c((u(),y("div",k,[m("div",x,[b(e,{total:T.value,class:"pt20 pb20 ml16"},null,8,["total"]),b(a,{ref_key:"topBtnRef",ref:R,type:"sync",syncbtn:"","sync-api":v(K),"sync-disabled":v($),class:"topbtns mr20",onSync:A},null,8,["sync-api","sync-disabled"])]),m("div",B,[c((u(),f(n,{data:S.value,size:"large","row-class-name":"my-data-table-row"},{empty:_((()=>[b(t)])),default:_((()=>[b(i,{type:"selection",width:"50"}),b(i,{property:"id",label:"序号"}),b(i,{property:"name",label:"企业名称"}),b(i,{property:"contact",label:"联系人"}),b(i,{property:"mobiles",label:"联系方式"}),b(i,{property:"telephone",label:"固定电话"}),b(i,{property:"industry_id",label:"行业"},{default:_((a=>[m("div",null,g(v(r)(a.row.industry_id.split(","),v(I),"last")),1)])),_:1}),b(i,{property:"city",label:"地区"},{default:_((({row:a})=>[b(d,{effect:"dark",placement:"top"},{content:_((()=>[m("div",H,g(v(r)(v(p)(a.province,a.city,a.district),v(q))),1)])),default:_((()=>[m("div",null,g(v(r)(v(p)(a.province,a.city,a.district),v(q))),1)])),_:2},1024)])),_:1}),b(i,{property:"address",label:"地址"}),b(i,{property:"company_type",label:"企业类型"}),b(i,{property:"code",label:"统一社会信用代码"}),b(i,{property:"url",label:"企业官网"}),b(i,{property:"business_scope",label:"经营范围"})])),_:1},8,["data"])),[[z,E.value]])]),b(s,{page:C.value,"onUpdate:page":o[0]||(o[0]=a=>C.value=a),size:U.value,"onUpdate:size":o[1]||(o[1]=a=>U.value=a),total:T.value,onChange:J},null,8,["page","size","total"])])),[[z,E.value]])}}}),[["__scopeId","data-v-7ebe2800"]]);export{q as default};
