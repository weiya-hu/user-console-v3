import{K as a}from"./KzPage.9312e74c.js";import{f as e}from"./date.23847c74.js";import{K as l,a as t,g as s,b as o}from"./KzDown.dd927a0a.js";import{K as d}from"./KzEmpty.61a513e5.js";import{_ as u,z as r}from"./index.7f252a0e.js";import{H as i,g as n,o as c,I as v,J as m,a as p,w as f,P as _,aa as b,a2 as y,a3 as w,B as h,av as g,aw as k,r as j,c as z}from"./vue.a499711c.js";import"./qrcode.vue.esm.6e02a2a9.js";import"./index.d21e3fce.js";import"./tinymce.275386ab.js";const C=a=>(g("data-v-3ba2d342"),a=a(),k(),a),x={class:"kz_card"},K={class:"rce"},V={class:"top_first"},D=C((()=>m("div",{class:"pop_title"},"资源内容库",-1))),I=C((()=>m("span",{class:"fl"},"行业分类",-1))),U=y(" 查询 "),M=["src","onClick"],P=y(" 药智咨询 "),$={class:"fleximg"},q=y(" 分享 "),B=y("下载"),E=y("查看");var H=u(i({name:"resource",setup(u){const i=n(1),g=n(10),k=n(0),C=n(""),H=n(!1),J=n(),R=n(),A=n({});(async()=>{const{status:a,body:e}=await s();a&&(A.value=e)})();const F=async()=>{const{status:a,body:e}=await o({page:i.value,size:g.value,industryId:C.value,current:i.value});1===a&&(k.value=e.total,R.value=e.records)};F();return(s,o)=>{const u=j("el-option"),n=j("el-select"),G=j("el-button"),L=j("el-table-column"),N=j("el-table");return c(),v("div",null,[m("div",x,[m("div",K,[m("div",V,[D,m("div",null,[I,p(n,{modelValue:C.value,"onUpdate:modelValue":o[0]||(o[0]=a=>C.value=a),class:"m-2",placeholder:"请选择"},{default:f((()=>[(c(!0),v(_,null,b(A.value,(a=>(c(),z(u,{key:a.value,label:a.industry_name,value:a.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"]),p(G,{class:"bdc_btn",onClick:F},{default:f((()=>[U])),_:1})])]),p(N,{data:R.value,style:{width:"100%"}},{empty:f((()=>[p(d)])),default:f((()=>[p(L,{type:"selection",width:"104",align:"center"}),p(L,{label:"ID"},{default:f((({row:a})=>[y(w(a.id),1)])),_:1}),p(L,{label:"封面图片",width:"200"},{default:f((({row:a})=>[m("img",{src:a.thumb_url,alt:"",onClick:e=>h(r)([a.thumb_url],0)},null,8,M)])),_:1}),p(L,{label:"标题","show-overflow-tooltip":!0,width:"250"},{default:f((({row:a})=>[y(w(a.title),1)])),_:1}),p(L,{label:"来源",width:"250"},{default:f((()=>[P])),_:1}),p(L,{label:"时间"},{default:f((({row:a})=>[y(w(h(e)(new Date(a.create_time),"yyyy-MM-dd")),1)])),_:1}),p(L,{label:"操作","min-width":"120",align:"center"},{default:f((({row:a})=>[m("div",$,[p(G,{class:"resource_btns",type:"text"},{default:f((()=>[p(l,{"share-id":a.id},{default:f((()=>[q])),_:2},1032,["share-id"])])),_:2},1024),p(G,{type:"text",class:"resource_btns",onClick:e=>{return l=a.id,H.value=!0,void J.value.getData(l);var l}},{default:f((()=>[B])),_:2},1032,["onClick"]),p(G,{type:"text",onClick:e=>s.$router.push(`resourcedetail?id=${a.id}`)},{default:f((()=>[E])),_:2},1032,["onClick"])])])),_:1})])),_:1},8,["data"]),p(a,{page:i.value,"onUpdate:page":o[1]||(o[1]=a=>i.value=a),size:g.value,"onUpdate:size":o[2]||(o[2]=a=>g.value=a),total:k.value,onChange:F},null,8,["page","size","total"])])]),p(t,{ref_key:"myDownRef",ref:J,modelValue:H.value,"onUpdate:modelValue":o[3]||(o[3]=a=>H.value=a),type:"down"},null,8,["modelValue"])])}}}),[["__scopeId","data-v-3ba2d342"]]);export{H as default};
