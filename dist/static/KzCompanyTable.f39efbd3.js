import{m as e,T as a,U as l,V as t}from"./index.561f5261.js";import{K as o}from"./KzEmpty.b11d49f7.js";import{H as r,u as s,g as n,r as u,o as i,I as d,a as p,w as v,J as c,a3 as y,B as w,c as h,a1 as b,Y as f}from"./vue.a499711c.js";const m=["onMouseenter"],_=["innerHTML"],M=["onMouseenter"],g=["onMouseenter"],x=["onMouseenter"],T=["onMouseenter"],H=["onMouseenter"],k=r({name:"KzCompanyTable",props:{data:null,oheight:{default:120}},setup(r,{expose:k}){const j=e(),K=s((()=>j.state.typeHash)),L=s((()=>j.state.addressHash)),z=s((()=>j.state.companyType)),C=n([]),I=e=>{C.value=e.map((e=>e.id))},S=n(),U=n(),B=n(!1),E=n(""),J=(e,a)=>{U.value=e.currentTarget,E.value=a,B.value=!0};return k({selIdList:C,clear:()=>{C.value=[],S.value.clearSelection()}}),(e,s)=>{const n=u("el-table-column"),k=u("el-link"),j=u("el-table"),C=u("el-tooltip");return i(),d("div",{class:"dmp_table company_table",style:f({height:`calc( 100% - ${r.oheight}px )`})},[p(j,{ref_key:"tableRef",ref:S,data:r.data,style:{width:"100%"},height:"100%",onSelectionChange:I},{empty:v((()=>[p(o)])),default:v((()=>[p(n,{type:"selection",width:"50",fixed:"left"}),p(n,{type:"index",label:"序号",width:"60"}),p(n,{property:"name",label:"企业名称"},{default:v((e=>[c("div",{class:"els2",onMouseenter:a=>J(a,e.row.name),onMouseleave:s[0]||(s[0]=e=>B.value=!1)},y(e.row.name),41,m)])),_:1}),p(n,{property:"contact",label:"联系人",width:"80"}),p(n,{property:"mobiles",label:"联系方式",width:"110"},{default:v((e=>[c("div",{innerHTML:e.row.mobiles},null,8,_)])),_:1}),p(n,{property:"telephone",label:"固定电话",width:"120"}),p(n,{property:"industry_id",label:"行业分类",width:"100"},{default:v((e=>[c("div",{class:"els2",onMouseenter:l=>J(l,w(a)(e.row.industry_id,w(K),"last")),onMouseleave:s[1]||(s[1]=e=>B.value=!1)},y(w(a)(e.row.industry_id,w(K),"last")),41,M)])),_:1}),p(n,{property:"city",label:"地区",width:"120"},{default:v((e=>[c("div",{class:"els2",onMouseenter:t=>J(t,w(a)(w(l)(e.row.province,e.row.city,e.row.district),w(L))),onMouseleave:s[2]||(s[2]=e=>B.value=!1)},y(w(a)(w(l)(e.row.province,e.row.city,e.row.district),w(L))),41,g)])),_:1}),p(n,{property:"address",label:"详细地址"},{default:v((e=>[c("div",{class:"els2",onMouseenter:a=>J(a,e.row.address),onMouseleave:s[3]||(s[3]=e=>B.value=!1)},y(e.row.address),41,x)])),_:1}),p(n,{property:"code",label:"统一社会信用代码",width:"165"}),p(n,{property:"url",label:"企业官网"},{default:v((e=>[p(k,{type:"primary",target:"_blank",href:"//"+e.row.url,underline:!1},{default:v((()=>[c("span",{class:"els2",onMouseenter:a=>J(a,e.row.url),onMouseleave:s[4]||(s[4]=e=>B.value=!1)},y(e.row.url),41,T)])),_:2},1032,["href"])])),_:1}),p(n,{property:"business_scope",label:"经营范围",width:"200"},{default:v((e=>[c("div",{class:"els2",onMouseenter:a=>J(a,e.row.business_scope),onMouseleave:s[5]||(s[5]=e=>B.value=!1)},y(e.row.business_scope),41,H)])),_:1}),w(z).length?(i(),h(n,{key:0,property:"company_type",label:"企业类型",width:"120"},{default:v((e=>{var a;return[c("div",null,y(null==(a=w(z).find((a=>a.id==e.row.company_type)))?void 0:a.name),1)]})),_:1})):b("",!0),p(n,{property:"source",label:"来源",width:"100"},{default:v((e=>[c("div",null,y(w(t)(e.row.source)),1)])),_:1})])),_:1},8,["data"]),p(C,{visible:B.value,"onUpdate:visible":s[8]||(s[8]=e=>B.value=e),"virtual-ref":U.value,"virtual-triggering":"",trigger:"hover",placement:E.value.length>300?"left":"top"},{content:v((()=>[c("div",{style:{"max-width":"300px"},onMouseenter:s[6]||(s[6]=e=>B.value=!0),onMouseleave:s[7]||(s[7]=e=>B.value=!1)},y(E.value),33)])),_:1},8,["visible","virtual-ref","placement"])],4)}}});export{k as _};
