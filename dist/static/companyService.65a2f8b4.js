var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,c=(a,t,s)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[t]=s,l=(e,a)=>{for(var t in a||(a={}))i.call(a,t)&&c(e,t,a[t]);if(s)for(var t of s(a))r.call(a,t)&&c(e,t,a[t]);return e};import{t as o}from"./trial.06120260.js";import{K as n}from"./KzEmpty.a0bcbd2b.js";import{g as p,p as d,_ as u,m as y,X as m,e as v}from"./index.f91ef24c.js";import{f}from"./date.23847c74.js";import{H as _,g as b,u as w,o as g,I as k,P as j,aa as x,c as h,av as O,aw as z,ax as P,b as D,B as F,a0 as I,J as M,a2 as C,W as E,a as K,w as U,a1 as B}from"./vue.fa004e33.js";import"./tinymce.50e98bcc.js";const T=e=>(O("data-v-a12f0f3a"),e=e(),z(),e),q={class:"kz_card my_product_page"},H=T((()=>M("div",{class:"card_title"},"产品与服务",-1))),J={key:0,class:"fcs fww card_content"},N=["src"],S={class:"img_box fcc"},W=["src"],X={class:"name fcs"},$={class:"text"},A={key:1,class:"time fsc"},G={class:"lt fcs"},L={class:"rt"},Q={key:2,class:"time fcs"},R=T((()=>M("div",{class:"time_tips"},"当前版本已过期，请联系客服续期",-1))),V={key:3,class:"btns"},Y=B("购买"),Z=B("升级"),ee=B("进入系统"),ae={key:4,class:"btns kf"},te=B(" 联系客服 ");var se,ie=u(_((se=l({},{name:"MyProduct"}),a(se,t({setup(e){P(),b(100),b(10),b(1);const a=y();w((()=>a.state.yxtUrl.cms)),a.state.yxtUrl.dmp;const t=b({});(async()=>{const{body:e,status:a}=await p("user ","/web/company/product/instance.list");t.value=e})();const s=b(),i=e=>{const a=new Date,t=new Date(e).getTime()-a.getTime(),i=Math.floor(t/864e5);return s.value=i+"天",i},r=b(0),c=b(0),u=b(0),_=async()=>{const e={id:r.value,version_type:c.value},a=await(e=>d("user ","/web/company/instance/switch.do",e))(l({},e));1===a.status?u.value&&m(u.value)&&window.location.replace(`/product/${m(u.value)}?insid=`+r.value):v("操作失败!")};return(e,s)=>{const l=D("KzIcon"),p=D("el-button");return g(),k("div",q,[H,t.value.length?(g(),k("div",J,[(g(!0),k(j,null,x(t.value,(e=>(g(),k("div",{key:e,class:"item"},[1===e.version_type?(g(),k("img",{key:0,src:F(o),alt:"",class:"trial_img"},null,8,N)):I("",!0),M("div",S,[M("img",{src:e.thumb_url,alt:""},null,8,W)]),M("div",X,[M("div",$,C(e.product_name),1),M("div",{class:E(["tag",1===e.version_type?1===e.type?"try":"u_paid":1===e.type?"try":"c_paid"])},[M("div",{class:E(["tag_box",1===e.version_type?1===e.type?"try":"u_paid":1===e.type?"try":"c_paid"])},C(e.version_name),3)],2)]),i(e.left_time)>0?(g(),k("div",A,[M("div",G,[K(l,{href:"#icon-riqi",size:"14px",color:i(e.left_time)<=5?"#FF4736":"#000"},null,8,["color"]),M("div",{class:E(i(e.left_time)<=5&&"time_tips")}," 剩余"+C(i(e.left_time))+"天 ",3)]),M("div",L," 有效期至： "+C(F(f)(new Date(Number(e.left_time)),"yyyy-MM-dd")),1)])):(g(),k("div",Q,[K(l,{href:"#icon-zhuyi-biankuang",size:"14px",color:"#FF4736"}),R])),i(e.left_time)>0?(g(),k("div",V,[1===e.version_type?(g(),h(p,{key:0,type:"danger",plain:""},{default:U((()=>[Y])),_:1})):(g(),h(p,{key:1,type:"warning",plain:""},{default:U((()=>[Z])),_:1})),K(p,{type:"primary",onClick:t=>{return s=e.id,i=e.product_id,l=e.version_type,c.value=l,r.value=s,u.value=i,_(),void a.setUserCompany();var s,i,l}},{default:U((()=>[ee])),_:2},1032,["onClick"])])):(g(),k("div",ae,[K(l,{href:"#icon-lanmu-kefu",size:"14px",color:"#2D68EB"}),te]))])))),128))])):(g(),h(n,{key:1}))])}}})))),[["__scopeId","data-v-a12f0f3a"]]);export{ie as default};
