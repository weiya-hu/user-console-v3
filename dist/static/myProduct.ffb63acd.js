var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,l=(a,t,s)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[t]=s,c=(e,a)=>{for(var t in a||(a={}))i.call(a,t)&&l(e,t,a[t]);if(s)for(var t of s(a))r.call(a,t)&&l(e,t,a[t]);return e};import{t as o}from"./trial.06120260.js";import{K as n}from"./KzEmpty.167bd755.js";import{g as p,p as d,_ as u,m as y,W as v,e as m}from"./index.ef7540d4.js";import{f}from"./date.23847c74.js";import{H as _,g as b,o as w,I as g,P as k,aa as j,c as h,av as O,aw as x,b as z,B as P,a0 as D,J as F,a2 as I,W as M,a as C,w as E,a1 as K}from"./vue.fa004e33.js";import"./tinymce.50e98bcc.js";const T=e=>(O("data-v-29794380"),e=e(),x(),e),B={class:"kz_card my_product_page"},W=T((()=>F("div",{class:"card_title"},"产品与服务",-1))),q={key:0,class:"fcs fww card_content"},H=["src"],J={class:"img_box fcc"},N=["src"],S={class:"name fcs"},U={class:"text"},$={key:1,class:"time fsc"},A={class:"lt fcs"},G={class:"rt"},L={key:2,class:"time fcs"},Q=T((()=>F("div",{class:"time_tips"},"当前版本已过期，请联系客服续期",-1))),R={key:3,class:"btns"},V=K("购买"),X=K("升级"),Y=K("进入系统"),Z={key:4,class:"btns kf"},ee=K(" 联系客服 ");var ae,te=u(_((ae=c({},{name:"MyProduct"}),a(ae,t({setup(e){const a=y(),t=b({});(async()=>{const{body:e,status:a}=await p("user","/web/user/product.list");t.value=e})();const s=b(),i=e=>{const a=new Date,t=new Date(e).getTime()-a.getTime(),i=Math.floor(t/864e5);return s.value=i+"天",i},r=b(0),l=b(0),u=b(0),_=async()=>{const e={id:r.value,version_type:l.value},a=await(e=>d("user","/web/user/instance/switch.do",e))(c({},e));1===a.status?u.value&&v(u.value)&&window.location.replace(`/product/${v(u.value)}?insid=`+r.value):m("操作失败!")};return(e,s)=>{const c=z("KzIcon"),p=z("el-button");return w(),g("div",B,[W,t.value.length?(w(),g("div",q,[(w(!0),g(k,null,j(t.value,(e=>(w(),g("div",{key:e,class:"item"},[1===e.version_type?(w(),g("img",{key:0,src:P(o),alt:"",class:"trial_img"},null,8,H)):D("",!0),F("div",J,[F("img",{src:e.thumb_url,alt:""},null,8,N)]),F("div",S,[F("div",U,I(e.product_name),1),F("div",{class:M(["tag",1===e.version_type?1===e.type?"try":"u_paid":1===e.type?"try":"c_paid"])},[F("div",{class:M(["tag_box",1===e.version_type?1===e.type?"try":"u_paid":1===e.type?"try":"c_paid"])},I(e.version_name),3)],2)]),(new Date).getTime()<e.left_time?(w(),g("div",$,[F("div",A,[C(c,{href:"#icon-riqi",size:"14px",color:i(e.left_time)<=5?"#FF4736":"#000"},null,8,["color"]),F("div",{class:M(i(e.left_time)<=5&&"time_tips")}," 剩余"+I(i(e.left_time))+"天 ",3)]),F("div",G," 有效期至： "+I(P(f)(new Date(Number(e.left_time)),"yyyy-MM-dd")),1)])):(w(),g("div",L,[C(c,{href:"#icon-zhuyi-biankuang",size:"14px",color:"#FF4736"}),Q])),i(e.left_time)>0?(w(),g("div",R,[1===e.version_type?(w(),h(p,{key:0,type:"danger",plain:""},{default:E((()=>[V])),_:1})):(w(),h(p,{key:1,type:"warning",plain:""},{default:E((()=>[X])),_:1})),C(p,{type:"primary",onClick:t=>{return s=e.id,i=e.product_id,c=e.version_type,l.value=c,r.value=s,u.value=i,_(),void a.setUserCompany();var s,i,c}},{default:E((()=>[Y])),_:2},1032,["onClick"])])):(w(),g("div",Z,[C(c,{href:"#icon-lanmu-kefu",size:"14px",color:"#2D68EB"}),ee]))])))),128))])):(w(),h(n,{key:1}))])}}})))),[["__scopeId","data-v-29794380"]]);export{te as default};
