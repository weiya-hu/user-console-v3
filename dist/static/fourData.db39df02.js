import{K as a}from"./KzTopBtns.caa46475.js";import{K as e}from"./KzPage.1c312f7c.js";import{K as s,a as t}from"./KzAddPeople.a99a05b0.js";import{g as l,s as o,x as d,y as r,z as n}from"./findC.5623fc5f.js";import{_ as c,A as i}from"./index.74b5253d.js";import{H as u,g as p,u as v,o as m,I as f,J as y,a as b,B as g,w as z,av as _,aw as j,a2 as K,r as h}from"./vue.a499711c.js";import"./KzDialog.920f19cd.js";import"./KzEmpty.94037ae3.js";import"./date.23847c74.js";import"./KzCascader.307bb50f.js";import"./KzUpload.b18ba1ea.js";import"./tinymce.275386ab.js";const x={class:"kz_card baidudata_page_c"},k={class:"fsc f1"},C=(a=>(_("data-v-0f0b1744"),a=a(),j(),a))((()=>y("div",{class:"card_title"},"400获客",-1))),I={class:"btns fsc"},U=K("新增数据");var w=c(u({name:"fourData",setup(c){const u=p(1),_=p(10),j=p(0),K=p(),w=p(),B=v((()=>w.value&&!w.value.selIdList.length)),D=async()=>{K.value.setLoading(!0);const a=await o({list:w.value.selIdList});K.value.close(a.message),w.value.clear()},L=()=>{d({size:_.value,current:u.value}).then((a=>{1==a.status&&(j.value=a.body.total,S.value=a.body.records)}))};L();const S=p([]),V=p([]),A=a=>{V.value=a},E=a=>{r({id:a}).then((a=>{1==a.status&&L()}))},P=p(!1),H=p(),J=a=>{n({attachment:a.path,city:a.addr[1]||0,district:a.addr[2]||0,group_desc:a.desc,group_name:a.people,province:a.addr[0]||0}).then((a=>{1==a.status?(P.value=!1,L()):H.value.addError()}))};return(o,d)=>{const r=h("el-icon"),n=h("el-button");return m(),f("div",x,[y("div",k,[C,y("div",I,[b(a,{ref_key:"topBtnRef",ref:K,type:"sync",syncbtn:"","sync-api":g(l),"sync-disabled":g(B),class:"topbtns mr20",onSync:D},null,8,["sync-api","sync-disabled"]),b(n,{type:"primary",onClick:d[0]||(d[0]=a=>P.value=!0)},{default:z((()=>[b(r,{size:"14px",style:{"margin-right":"4px"}},{default:z((()=>[b(g(i))])),_:1}),U])),_:1})])]),b(s,{data:S.value,details:"/product/dmp/findc/fourdatadetails",onSelect:A,onDel:E},null,8,["data"]),b(e,{page:u.value,"onUpdate:page":d[1]||(d[1]=a=>u.value=a),size:_.value,"onUpdate:size":d[2]||(d[2]=a=>_.value=a),total:j.value,onChange:L},null,8,["page","size","total"]),b(t,{ref_key:"addref",ref:H,modelValue:P.value,"onUpdate:modelValue":d[3]||(d[3]=a=>P.value=a),onSuccess:J},null,8,["modelValue"])])}}}),[["__scopeId","data-v-0f0b1744"]]);export{w as default};
