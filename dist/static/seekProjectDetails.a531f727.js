import{K as e}from"./KzEmpty.b11d49f7.js";import{K as a}from"./KzPage.9c6d1927.js";import{_ as t,m as l,T as s,U as r}from"./index.561f5261.js";import{H as o,g as p,u as i,o as c,I as d,J as n,a as y,B as u,$ as m,c as v,w as f,a3 as b,ay as _,r as h,ad as g}from"./vue.a499711c.js";import{f as w}from"./date.23847c74.js";import{g as j,d as z,s as K}from"./seekPathPro.18f6fab6.js";import{K as k}from"./KzDmpTitle.75aa6a30.js";import{K as x}from"./KzTopBtns.baf6f18f.js";import"./tinymce.275386ab.js";import"./KzDialog.9ecb6295.js";import"./kzkf.83b11867.js";const D={class:"kz_card dmp_page"},P={class:"fsc mb20"},B={class:"dmp_table",style:{height:"calc(100% - 120px)"}},H={style:{width:"100px"},class:"fcc"},S={class:"els2"},T={style:{width:"100px"}};var U=t(o({name:"seekProjectDetails",setup(t){const o=_(),U=l(),C=p(U.state.addressHash),I=i((()=>U.state.typeHash)),M=p([]),q=p(0),E=p(50),J=p(1),L=p(!1),N=async()=>{L.value=!0;const e={current:J.value,type:2,size:E.value,id:o.query.id},{status:a,body:t}=await z(e);L.value=!1,a&&(q.value=t.total,M.value=t.records)};N();const R=p([]),$=e=>{R.value=e.map((e=>e.id))},A=p(),F=p(),G=i((()=>!R.value.length)),O=async()=>{F.value.setLoading(!0);const e=await K({list:R.value,type:1});F.value.close(e.message),R.value=[],A.value.clearSelection()};return(t,l)=>{const o=h("el-table-column"),p=h("el-tooltip"),i=h("el-table"),_=g("loading");return c(),d("div",D,[n("div",P,[y(k,{total:q.value},null,8,["total"]),y(x,{ref_key:"topBtnRef",ref:F,type:"sync",syncbtn:"","sync-api":u(j),"sync-disabled":u(G),onSync:O},null,8,["sync-api","sync-disabled"])]),n("div",B,[m((c(),v(i,{data:M.value,style:{width:"100%"},height:"100%",onSelectionChange:$},{empty:f((()=>[y(e)])),default:f((()=>[y(o,{type:"selection",width:"50",fixed:"left"}),y(o,{property:"num",label:"序号"}),y(o,{property:"name",label:"企业名称"}),y(o,{property:"contact",label:"联系人"}),y(o,{property:"mobiles",label:"联系方式"}),y(o,{property:"telephone",label:"固定电话"}),y(o,{property:"industry_id",label:"行业分类",width:"100"},{default:f((e=>[y(p,{effect:"dark",placement:"top"},{content:f((()=>[n("div",H,b(u(s)(e.row.industry_id,u(I))),1)])),default:f((()=>[n("div",S,b(u(s)(e.row.industry_id,u(I),"last")),1)])),_:2},1024)])),_:1}),y(o,{property:"city",label:"地区",width:"120"},{default:f((({row:e})=>[y(p,{effect:"dark",placement:"top"},{content:f((()=>[n("div",T,b(e.province>0&&u(s)(u(r)(e.province,e.city,e.district),C.value)),1)])),default:f((()=>[n("div",null,b(e.province>0&&u(s)(u(r)(e.province,e.city,e.district),C.value)),1)])),_:2},1024)])),_:1}),y(o,{property:"address",label:"详细地址"}),y(o,{property:"company_type",label:"企业类型"}),y(o,{property:"code",label:"统一社会信用代码"}),y(o,{property:"url",label:"企业官网"}),y(o,{property:"business_scope",label:"经营范围"}),y(o,{property:"item_name",label:"项目名称"}),y(o,{property:"item_desc",label:"项目介绍"}),y(o,{property:"amount",label:"招标金额（万元）"}),y(o,{property:"left_time",label:"截止日期"}),y(o,{property:"attachment",label:"项目附件"}),y(o,{property:"create_time",label:"更新日期"},{default:f((({row:e})=>[n("div",null,b(u(w)(new Date(Number(e.create_time)),"yyyy-MM-dd")),1)])),_:1})])),_:1},8,["data"])),[[_,L.value]])]),y(a,{page:J.value,"onUpdate:page":l[0]||(l[0]=e=>J.value=e),size:E.value,"onUpdate:size":l[1]||(l[1]=e=>E.value=e),total:q.value,onChange:N},null,8,["page","size","total"])])}}}),[["__scopeId","data-v-6298f808"]]);export{U as default};
