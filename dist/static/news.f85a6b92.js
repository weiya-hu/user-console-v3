import{g as e,_ as a,m as s,a as l}from"./index.fde176ed.js";import{H as n,ax as t,g as i,u as v,o as c,I as m,J as o,P as u,aa as d,X as r,a3 as _,B as w,a1 as f,Y as p,a2 as y,av as g,aw as b,q as x,a as N,w as h,$ as k,r as I,ad as C,c as S}from"./vue.a499711c.js";import"./tinymce.275386ab.js";const J=e=>(g("data-v-569fa668"),e=e(),b(),e),M={class:"news_nav"},Y={key:0,class:"flexb news_nav_pre"},O=["onClick"],T=y(" 更多 "),j={key:0,class:"news_nav_more_model"},z=J((()=>o("div",{class:"news_nav_more_model_more"},null,-1))),q=["onClick"],D=["onClick"];var L=a(n({name:"newsNav",emits:["navChange"],setup(a,{emit:n}){const y=s(),g=t(),b=i([]),N=i(),h=i(),k=i(!1);(async()=>{const{status:a,body:s}=await e("official ","/public/type.list"),t=l("newsTypeId"),i=l("newsId");a&&(()=>{const e=t||y.state.newsMayLikeId;b.value=s,N.value=i?null:e,C(),i||(g.push("/news?newsTypeId="+e),n("navChange",e))})()})();const I=v((()=>e=>{const a=JSON.parse(JSON.stringify(b.value));return e?a.splice(0,11):a.splice(11,a.length)})),C=()=>{x((()=>{const e=document.querySelector(".news_nav_item_active");e&&(h.value=e.offsetLeft+e.offsetWidth/2-16)}))},S=e=>{const a=l("newsId");N.value=e,g.push("/news?newsTypeId="+e),!a&&(n("navChange",e),C())};return(e,a)=>(c(),m("div",M,[b.value.length>12?(c(),m("div",Y,[o("div",{class:"flexb news_nav_pre_son",onSelectstart:a[0]||(a[0]=()=>!1)},[(c(!0),m(u,null,d(w(I)(!0),((e,a)=>(c(),m("div",{key:a,class:r(N.value==e.id?"news_nav_item news_nav_item_active":"news_nav_item"),onClick:a=>S(e.id)},_(e.name),11,O)))),128))],32),o("div",{class:"news_nav_more fleximg",onMouseenter:a[1]||(a[1]=e=>k.value=!0),onMouseleave:a[2]||(a[2]=e=>k.value=!1)},[T,k.value?(c(),m("div",j,[z,o("div",{class:r(w(I)(!1).length>4?"news_nav_more_content flexl flex_wrap_width":"news_nav_more_content flexl")},[(c(!0),m(u,null,d(w(I)(!1),((e,a)=>(c(),m("div",{key:a,class:"news_nav_more_item fleximg",onClick:s=>((e,a)=>{const s=JSON.parse(JSON.stringify(b.value));s.splice(11+a,1),s.splice(10,0,e),k.value=!1,b.value=s,S(e.id)})(e,a)},_(e.name),9,q)))),128))],2)])):f("",!0)],32),N.value?(c(),m("div",{key:0,class:"news_line",style:p("left:"+h.value+"px")},null,4)):f("",!0)])):(c(),m("div",{key:1,class:r(b.value.length<=10?"flexl news_nav_pre news_nav_pre_mright":"flexb news_nav_pre")},[(c(!0),m(u,null,d(b.value,((e,a)=>(c(),m("div",{key:a,class:r(N.value==e.id?"news_nav_item news_nav_item_active":"news_nav_item"),onClick:a=>S(e.id)},_(e.name),11,D)))),128)),N.value?(c(),m("div",{key:0,class:"news_line",style:p("left:"+h.value+"px")},null,4)):f("",!0)],2))]))}}),[["__scopeId","data-v-569fa668"]]);const B=e=>(g("data-v-37d52b5e"),e=e(),b(),e),H={className:"news-list-item flexb"},P={className:"fleximg coverimg"},W=["src"],X=["className"],$={className:"title"},A={className:"item-content"},E={className:"flexb news-list-item-bottom"},F={className:"color3"},G={className:"flexr"},K=B((()=>o("div",{className:"color3"},"{moment(props.item.update_time).format('YYYY年MM月DD日')}",-1))),Q=B((()=>o("div",{className:"flexl share"},null,-1))),R=B((()=>o("div",{className:"flexl star"},null,-1))),U={className:"flexl"},V={className:"color3"},Z=B((()=>o("div",null,null,-1)));var ee=a(n({name:"newsItem",props:{item:null,size:{default:"small"}},setup(e){const a=e;return(e,s)=>(c(),m("div",H,[o("div",P,[o("img",{src:a.item.thumb_url?a.item.thumb_url:w("/static/news_false.91c6f0eb.png"),alt:"cover"},null,8,W)]),o("div",{className:"big"===a.size?"flexcbl news-list-item-right  news-list-item-right-big":"flexcbl news-list-item-right"},[o("div",null,[o("div",$,_(a.item.title),1),o("div",A,_(a.item.content),1)]),o("div",E,[o("div",F,_(a.item.creator_name),1),o("div",G,[K,Q,R,o("div",U,[o("span",V,_(a.item.readed),1)]),Z])])],8,X)]))}}),[["__scopeId","data-v-37d52b5e"]]);const ae={class:"flexb news_main"},se=(e=>(g("data-v-4804ba8e"),e=e(),b(),e))((()=>o("div",null,null,-1)));var le=a(n({name:"news",setup(a){i(12);const s=i(1),n=i(10),t=i(),v=()=>{_(l("newsTypeId"))},r=e=>{t.value=[],_(e)},_=async a=>{const l={current:s.value,size:n.value,typeId:a},{status:i,body:v}=await(c=l,e("official ","/public/info.page",c));var c;i&&(t.value=t.value.concat(v.records),s.value+=1)};return(e,a)=>{const s=I("el-scrollbar"),l=C("infinite-scroll");return c(),m("div",ae,[o("div",null,[N(L,{onNavChange:r}),N(s,{class:"news_list"},{default:h((()=>[k((c(),m("div",null,[(c(!0),m(u,null,d(t.value,((e,a)=>(c(),S(ee,{key:a,item:e},null,8,["item"])))),128))])),[[l,v]])])),_:1})]),se])}}}),[["__scopeId","data-v-4804ba8e"]]);export{le as default};
