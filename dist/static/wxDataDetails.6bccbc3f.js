import{f as a}from"./date.23847c74.js";import{d as e}from"./dfavatar.b7e0a12f.js";import{K as t}from"./KzPage.dd3597d0.js";import{K as s}from"./KzEmpty.cf970ba3.js";import{K as l}from"./KzDmpTitle.c702cca0.js";import{K as r}from"./KzTopBtns.0ad3e18e.js";import{g as o,j as d,s as i}from"./findC.4d8edfe3.js";import{H as n,u as p,g as u,_ as c,o as m,I as v,J as f,a as y,B as b,w as _,a2 as g,ay as j,b as w,ae as h}from"./vue.fa004e33.js";import{_ as z,m as K,S as k,T as S}from"./index.e45ab2da.js";import"./KzDialog.579e968a.js";import"./kzkf.70bb183f.js";import"./tinymce.50e98bcc.js";const x={class:"kz_card wxdata_details_c dmp_page"},B={class:"fsc mb20"},C={class:"dmp_table"},D=["src"];var T=z(n({setup(n){const z=K(),T=p((()=>z.state.addressHash)),H=u([]),I=j(),M=u(1),R=u(50),U=u(0),q=u(!1),E=()=>{q.value=!0,d({did:I.query.id,size:R.value,current:M.value}).then((a=>{1==a.status&&(H.value=a.body.records,U.value=a.body.total),q.value=!1})).catch((()=>{q.value=!1}))};E();const J=u([]),L=a=>{J.value=a.map((a=>a.id))},P=u(),A=u(),F=p((()=>!J.value.length)),G=async()=>{A.value.setLoading(!0);const a=await i({list:J.value});A.value.close(a.message),J.value=[],P.value.clearSelection()};return(d,i)=>{const n=w("el-table-column"),p=w("el-table"),u=h("loading");return c((m(),v("div",x,[f("div",B,[y(l,{total:U.value},null,8,["total"]),y(r,{ref_key:"topBtnRef",ref:A,type:"sync",syncbtn:"","sync-api":b(o),"sync-disabled":b(F),onSync:G},null,8,["sync-api","sync-disabled"])]),f("div",C,[y(p,{ref_key:"tableRef",ref:P,data:H.value,onSelectionChange:L},{empty:_((()=>[y(s)])),default:_((()=>[y(n,{type:"selection",width:"50"}),y(n,{property:"wechat_id",label:"好友微信号"}),y(n,{property:"avatar_url",label:"头像"},{default:_((a=>[f("img",{src:a.row.avatar_url||b(e),alt:"",class:"firstimg"},null,8,D)])),_:1}),y(n,{property:"nick_name",label:"昵称"}),y(n,{property:"gender",label:"性别"},{default:_((a=>[f("div",null,g(0==a.row.gender?"未知":1==a.row.gender?"男":"女"),1)])),_:1}),y(n,{property:"phone_number",label:"联系方式"}),y(n,{property:"address",label:"地区"},{default:_((a=>[f("div",null,g(b(k)(b(S)(a.row.province,a.row.city,a.row.district),b(T))),1)])),_:1}),y(n,{property:"signature",label:"个性签名"}),y(n,{property:"create_time",label:"更新时间"},{default:_((e=>[f("div",null,g(b(a)(new Date(e.row.update_time),"yyyy-MM-dd hh:mm:ss")),1)])),_:1})])),_:1},8,["data"])]),y(t,{page:M.value,"onUpdate:page":i[0]||(i[0]=a=>M.value=a),size:R.value,"onUpdate:size":i[1]||(i[1]=a=>R.value=a),total:U.value,onChange:E},null,8,["page","size","total"])])),[[u,q.value]])}}}),[["__scopeId","data-v-53595bad"]]);export{T as default};
