import{g as e,_ as a,m as s,a as l,v as n}from"./index.561f5261.js";import{H as t,ax as i,g as v,u as c,o,I as m,J as d,P as r,aa as u,X as _,a3 as w,B as f,a1 as p,Y as y,a2 as g,av as x,aw as N,q as b,a as h,w as k,$ as I,r as C,ad as S,c as J}from"./vue.a499711c.js";import{f as M}from"./date.23847c74.js";import"./tinymce.275386ab.js";const j=e=>(x("data-v-569fa668"),e=e(),N(),e),O={class:"news_nav"},T={key:0,class:"flexb news_nav_pre"},z=["onClick"],q=g(" 更多 "),L={key:0,class:"news_nav_more_model"},B=j((()=>d("div",{class:"news_nav_more_model_more"},null,-1))),D=["onClick"],E=["onClick"];var H=a(t({name:"newsNav",emits:["navChange"],setup(a,{emit:n}){const t=s(),g=i(),x=v([]),N=v(),h=v(),k=v(!1);(async()=>{const{status:a,body:s}=await e("official ","/public/type.list"),i=l("newsTypeId"),v=l("newsId");a&&(()=>{const e=i||t.state.newsMayLikeId;x.value=s,N.value=v?null:e,C(),v||(g.push("/news?newsTypeId="+e),n("navChange",e))})()})();const I=c((()=>e=>{const a=JSON.parse(JSON.stringify(x.value));return e?a.splice(0,11):a.splice(11,a.length)})),C=()=>{b((()=>{const e=document.querySelector(".news_nav_item_active");e&&(h.value=e.offsetLeft+e.offsetWidth/2-16)}))},S=e=>{const a=l("newsId");N.value=e,g.push("/news?newsTypeId="+e),!a&&(n("navChange",e),C())};return(e,a)=>(o(),m("div",O,[x.value.length>12?(o(),m("div",T,[d("div",{class:"flexb news_nav_pre_son",onSelectstart:a[0]||(a[0]=()=>!1)},[(o(!0),m(r,null,u(f(I)(!0),((e,a)=>(o(),m("div",{key:a,class:_(N.value==e.id?"news_nav_item news_nav_item_active":"news_nav_item"),onClick:a=>S(e.id)},w(e.name),11,z)))),128))],32),d("div",{class:"news_nav_more fleximg",onMouseenter:a[1]||(a[1]=e=>k.value=!0),onMouseleave:a[2]||(a[2]=e=>k.value=!1)},[q,k.value?(o(),m("div",L,[B,d("div",{class:_(f(I)(!1).length>4?"news_nav_more_content flexl flex_wrap_width":"news_nav_more_content flexl")},[(o(!0),m(r,null,u(f(I)(!1),((e,a)=>(o(),m("div",{key:a,class:"news_nav_more_item fleximg",onClick:s=>((e,a)=>{const s=JSON.parse(JSON.stringify(x.value));s.splice(11+a,1),s.splice(10,0,e),k.value=!1,x.value=s,S(e.id)})(e,a)},w(e.name),9,D)))),128))],2)])):p("",!0)],32),N.value?(o(),m("div",{key:0,class:"news_line",style:y("left:"+h.value+"px")},null,4)):p("",!0)])):(o(),m("div",{key:1,class:_(x.value.length<=10?"flexl news_nav_pre news_nav_pre_mright":"flexb news_nav_pre")},[(o(!0),m(r,null,u(x.value,((e,a)=>(o(),m("div",{key:a,class:_(N.value==e.id?"news_nav_item news_nav_item_active":"news_nav_item"),onClick:a=>S(e.id)},w(e.name),11,E)))),128)),N.value?(o(),m("div",{key:0,class:"news_line",style:y("left:"+h.value+"px")},null,4)):p("",!0)],2))]))}}),[["__scopeId","data-v-569fa668"]]);const P=e=>(x("data-v-e73d3994"),e=e(),N(),e),W={className:"news-list-item flexb"},X={className:"fleximg coverimg"},Y=["src"],$=["className"],A={className:"title"},F={className:"item-content"},G={className:"flexb news-list-item-bottom"},K={className:"color3"},Q={className:"flexr"},R={className:"color3"},U=P((()=>d("div",{className:"flexl share"},null,-1))),V=P((()=>d("div",{className:"flexl star"},null,-1))),Z={className:"flexl"},ee={className:"color3"},ae=P((()=>d("div",null,null,-1)));var se=a(t({name:"newsItem",props:{item:null,size:{default:"small"}},setup(e){const a=e;return(e,s)=>(o(),m("div",W,[d("div",X,[d("img",{src:a.item.thumb_url?a.item.thumb_url:f(n)(),alt:"cover",onError:s[0]||(s[0]=e=>{e.target.src=n()})},null,40,Y)]),d("div",{className:"big"===a.size?"flexcbl news-list-item-right  news-list-item-right-big":"flexcbl news-list-item-right"},[d("div",null,[d("div",A,w(a.item.title),1),d("div",F,w(a.item.content),1)]),d("div",G,[d("div",K,w(a.item.creator_name),1),d("div",Q,[d("div",R,w(f(M)(new Date(a.item.update_time),"yyyy年MM月dd日")),1),U,V,d("div",Z,[d("span",ee,w(a.item.readed),1)]),ae])])],8,$)]))}}),[["__scopeId","data-v-e73d3994"]]);const le={class:"flexb news_main"},ne={class:"nav_pre"},te={class:"newses"},ie=(e=>(x("data-v-3e8d9481"),e=e(),N(),e))((()=>d("div",null,null,-1)));var ve=a(t({name:"news",setup(a){v(12);const s=v(1),n=v(10),t=v(),i=()=>{_(l("newsTypeId"))},c=e=>{t.value=[],_(e)},_=async a=>{const l={current:s.value,size:n.value,typeId:a},{status:i,body:v}=await(c=l,e("official ","/public/info.page",c));var c;i&&(t.value=t.value.concat(v.records),s.value+=1)};return(e,a)=>{const s=C("el-scrollbar"),l=S("infinite-scroll");return o(),m("div",le,[d("div",null,[d("div",ne,[h(H,{onNavChange:c})]),h(s,{class:"news_list"},{default:k((()=>[I((o(),m("div",te,[(o(!0),m(r,null,u(t.value,((e,a)=>(o(),J(se,{key:a,item:e},null,8,["item"])))),128))])),[[l,i]])])),_:1})]),ie])}}}),[["__scopeId","data-v-3e8d9481"]]);export{ve as default};
