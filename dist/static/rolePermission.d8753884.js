var e=Object.defineProperty,l=Object.defineProperties,a=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,o=(l,a,t)=>a in l?e(l,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[a]=t,n=(e,l)=>{for(var a in l||(l={}))s.call(l,a)&&o(e,a,l[a]);if(t)for(var a of t(l))u.call(l,a)&&o(e,a,l[a]);return e},i=(e,t)=>l(e,a(t));import{_ as d,i as c,j as r,R as A,g as v,E as p,e as m,o as f}from"./index.0bf61828.js";import{H as _,g,i as k,u as y,b as h,o as b,I as V,P as C,aa as w,J as x,a as E,w as U,a1 as I,a2 as B,c as S,B as N,ab as O,W as Q,V as R,k as z,av as j,aw as D,a0 as J,X as M,ax as P,q as T}from"./vue.a94c4214.js";import{f as F}from"./date.8b6fbc66.js";import{K}from"./KzPage.dc9f08c7.js";import"./tinymce.a8dd01a6.js";var Y="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAADqADAAQAAAABAAAADgAAAAC98Dn6AAACCElEQVQoFYWSz2sTURDHZ17rJk3SaHcXAoJ4EosmpCVo8GRBkTZU/CMEMTXFH714EMnFQ4MgHhR78ebJgwq5hGqNeBCESiqIeFJ7sEp229Sk281m942zDSuJP+fwHrzvfOYN3xmE/8T4bPOQ69o3APA4AtWRxPzKPe0+/otL5RsZgM4LTv4oBuCKJDoARCVEcXbwb+CRGXNfW3ae8E9hEvSgdkdf5NzFdN7Uieic+BM4XqjvtUkuAeIbUHAaia6n8sa1bi5t8B35rdXsxVbCattVRPp0MKGfeVhEZ6xQn5AelAnEApDk30SpD8zMfdc7llMlgDUtoZ2uFtEOOkqfX58mkI8J8LMi1dGf4LHLm2pr2+H2oKEk9NxyEa0A2tFs5zmb1GzH1akPJWzugGOXNvZ4bfcpEtiq0Cerd7EVQL4mbfcZF7Qgqk++vYlbvibYIZRtryYAvaFdItcLZWfNuLS9CpvkDA9DLoB8EDMFY9Rx6b0Mxfa/uz206j/6MTFDMZPMCgCFlPjAieV5dbOrdE/hSkwzv9oLZYoUMcko87CjsbBy6lfIR/1W04hQC6qlrtJI55tZRkBNiYZOvrq1ez3Qem9M5o0lrrzFm7DGYzjKQJLY2YgSPjw1Eq0/+tpIo/D6NoxC8GVQACUloMX2GlxxgZBeawl9hWfobl8wsvz2UkroA9Gmyg+iyuOL+HQm4AAAAABJRU5ErkJggg==";const G={class:"check_group"},L={class:"flexl permit_page_front els"},Z={class:"flexl permit_page_operate"};var q=d(_({props:{item:null,ckeckedLists:null,allChecked:null,getcheckedListFlag:null},emits:["update:modelValue","allChecked","isIndeterminate"],setup(e,{emit:l}){const a=e,t=g(),s=g(),u=g(),o=g();k(t,(e=>{let a=!0,t=!0,u=!1;for(const l in e)!e[l]&&(a=!1),e[l]&&(t=!1);for(const l in s.value)s.value[l]&&(u=!0);l("allChecked",a),l("isIndeterminate",!a&&!t||u)})),k((()=>a.allChecked),(e=>{const a=e.split(",");"true"==a[1]&&(o.value=JSON.parse(JSON.stringify(u.value)),l("update:modelValue",o.value),t.value=d(t.value,!0),s.value=d(s.value,!1)),"false"==a[1]&&(o.value=d(o.value,[]),l("update:modelValue",o.value),t.value=d(t.value,!1),s.value=d(s.value,!1))})),k((()=>a.getcheckedListFlag),(e=>{v()}));const d=(e,l)=>{const a=JSON.parse(JSON.stringify(e));for(const t in a)a[t]=l;return a},c=(e,l)=>(e.forEach((a=>{if(a.checkAll.permit_id===l.pid)return a.children.push(l),e})),e),r=(e,l)=>{const a={},t={};return e.forEach((e=>{a[e.checkAll.permit_id]=e.children.length===l[e.checkAll.permit_id].length,t[e.checkAll.permit_id]=l[e.checkAll.permit_id].length>0&&l[e.checkAll.permit_id].length<e.children.length})),[a,t]},A=y((()=>{let e=[];return a.item.forEach((l=>{!l.pid&&e.push({checkAll:l,children:[]}),l.pid&&(e=c(e,l))})),e})),v=()=>{let e=[],i={},d={};a.item.forEach((l=>{!l.pid&&e.push({checkAll:l,children:[]}),l.pid&&(e=c(e,l),i[l.pid]=[],d[l.pid]=d[l.pid]?d[l.pid].concat(l.permit_id):[l.permit_id])})),u.value=d,o.value=n(n({},i),a.ckeckedLists),l("update:modelValue",o.value),t.value=r(e,o.value)[0],s.value=r(e,o.value)[1]};v();return(e,a)=>{const d=h("el-checkbox"),c=h("el-checkbox-group");return b(),V("div",G,[(b(!0),V(C,null,w(N(A),((e,a)=>(b(),V("div",{key:a,class:"flexl permit_page"},[x("div",L,[E(d,{modelValue:t.value[e.checkAll.permit_id],"onUpdate:modelValue":l=>t.value[e.checkAll.permit_id]=l,indeterminate:s.value[e.checkAll.permit_id],onChange:a=>{return d=a,c=e.checkAll.permit_id,o.value=i(n({},o.value),{[c]:d?u.value[c]:[]}),l("update:modelValue",o.value),s.value=i(n({},s.value),{[c]:!1}),void(t.value=i(n({},t.value),{[c]:d}));var d,c}},{default:U((()=>[I(B(e.checkAll.permit_name),1)])),_:2},1032,["modelValue","onUpdate:modelValue","indeterminate","onChange"])]),E(c,{modelValue:o.value[e.checkAll.permit_id],"onUpdate:modelValue":l=>o.value[e.checkAll.permit_id]=l,onChange:a=>((e,a)=>{const d=e.length;t.value=i(n({},t.value),{[a]:d===u.value[a].length}),s.value=i(n({},s.value),{[a]:d>0&&d<u.value[a].length}),o.value=i(n({},o.value),{[a]:e}),l("update:modelValue",o.value)})(a,e.checkAll.permit_id)},{default:U((()=>[x("div",Z,[(b(!0),V(C,null,w(e.children,(e=>(b(),S(d,{key:e.permit_id,class:"permit_page_operate_check",label:e.permit_id},{default:U((()=>[I(B(e.permit_name),1)])),_:2},1032,["label"])))),128))])])),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])])))),128))])}}}),[["__scopeId","data-v-26d1626d"]]);const W=()=>c("user ","/web/company/role.list");const X={key:0,class:"fcc fc"},H=["src"],$=(e=>(j("data-v-1692859a"),e=e(),D(),e))((()=>x("div",{class:"tip"},"请扫描上方二维码，联系客服人员",-1))),ee={key:1,class:"fcc msg"},le={key:0,class:"fcc long_btn"},ae=I("我知道了"),te={key:1},se={key:0,class:"fcc"},ue=I("取消"),oe=I("确定"),ne={key:1,class:"fcc"},ie=I("我知道了");var de=d(_({props:{modelValue:{type:Boolean},title:{default:"提示"},msg:{default:""},type:{default:void 0},btn:{default:2},width:{default:""}},emits:["update:modelValue","sure"],setup(e,{emit:l}){const a=e,t=y({get:()=>a.modelValue,set:e=>{l("update:modelValue",e)}}),s=()=>{l("update:modelValue",!1)},u=()=>{l("sure")};return(l,a)=>{const o=h("el-button"),n=h("el-dialog");return b(),S(n,{modelValue:N(t),"onUpdate:modelValue":a[0]||(a[0]=e=>z(t)?t.value=e:null),width:e.width?e.width:"kf"===e.type?"280px":"500px","show-close":!e.type,"custom-class":e.type?"no_header_dialog":"",onClose:s},O({default:U((()=>[R(l.$slots,"default",{},(()=>["kf"===e.type?(b(),V("div",X,[x("img",{src:N("/static/kf_code.d5aa67b2.png"),alt:""},null,8,H),$])):(b(),V("div",ee,B(e.msg),1))]),!0)])),footer:U((()=>["kf"===e.type?(b(),V("div",le,[E(o,{type:"primary",size:"large",onClick:s},{default:U((()=>[ae])),_:1})])):(b(),V("div",te,[2===e.btn?(b(),V("div",se,[E(o,{onClick:s},{default:U((()=>[ue])),_:1}),E(o,{type:"primary",onClick:u},{default:U((()=>[oe])),_:1})])):(b(),V("div",ne,[E(o,{type:"primary",size:"large",onClick:s},{default:U((()=>[ie])),_:1})]))]))])),_:2},["tip"!==e.type?{name:"title",fn:U((()=>[x("div",{class:Q("kf"===e.type&&"fcc kf_title")},B("kf"===e.type?"联系客服":e.title),3)]))}:void 0]),1032,["modelValue","width","show-close","custom-class"])}}}),[["__scopeId","data-v-1692859a"]]);const ce=e=>(j("data-v-7219045c"),e=e(),D(),e),re={class:"flexb role_permission"},Ae={class:"role_left"},ve=ce((()=>x("div",null,"全部角色",-1))),pe=[ce((()=>x("span",null,"+",-1))),I("添加")],me={class:"role_all"},fe=["onClick"],_e={class:"flexr role_operate"},ge=[ce((()=>x("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAEKADAAQAAAABAAAAEAAAAAA0VXHyAAABP0lEQVQ4EZ1TvUrEQBCeWTXCwaEYAtY22uhVdlr4AtdF30A9SwvBzs7O0qjgA+h19wI2dlZ3NtpYCyGHcnBgxIz59rIQTXYFF7Kzu9/PzCxZpmK0DpKdLJMNYvHMWW0UTpXi+/65fwNcYWrtx2ci2TWT+Ni7BjjgQgMehyfiPb0mI2YJB1HQc4kNttaJ2yLcXVn0m+rlbZxnFW9mtvFgCH/FCVc8aHULNkF4K1P4bDjOp13g893wtMCPbDyngVA2ZxOa84oBSkZmiIVoE8TVTnzJpN6XtxaOu9v8ZcSIzjsoE23rSgVFBt0zMkP4GAV7iIMI889RMSjDKLu8r1s7DdAzRHWZjZnT4PeFGVE5qqX5RpL/0ennx3i9DLjWEy6n0DKI+jEx7ZJQT5hGLjELNYmpncer/kVwqA20yT+f8ze8UnaR+lSA+gAAAABJRU5ErkJggg=="},null,-1)))],ke=["onClick"],ye=[ce((()=>x("img",{src:Y},null,-1)))],he=[ce((()=>x("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAEKADAAQAAAABAAAAEAAAAAA0VXHyAAABUUlEQVQ4EcVSPUvDYBC+S2sDXcSqoCKIRXBSKeIPcPQHCI5uUqvQzbWrm+IgTjoK7vojpDo4CeIgIkLU4lKMNDnvTC+5xIij7/I873PPfSUvgjkr2+Q+9l6bAFQ1sqF4P1kc3rs4QF9FR4mgJCPBltUsl1jUIFGLCRVGVUI4vzkc3Ujr0W2u7h0xS02HC5veckiwBoAzBFQDgjIgdPMKaAwBr7nZnYNwGq/AyeMIUPo1WSpyYfGI90cDGa8/4ndstUUlNVme9cUTqFlwcedt8Pb5pSNoufUozy0Avlsm4G/BmOKaZTC/gDH8Rf+/QOYh9Qd2/S5+8FtgFMXy7Eq5K7R3K++zYyNDgpZnk+UeF0BynviRLKnprIWfeVw84tVYvEKh4JwEITXn694V/8JLNViMGuD0gIvHqrOWnFqjMxUE4TphOJGoCZPOktzerzyo+gUa1YAqfdUC3QAAAABJRU5ErkJggg=="},null,-1)))],be={class:"role_right"},Ve={class:"flexb role_right_top"},Ce={key:0,class:"flexl"},we={class:"role_name els"},xe=[ce((()=>x("img",{src:Y},null,-1)))],Ee={key:1,class:"flexl"},Ue=I("保存"),Ie=I("取消"),Be=I("删除角色"),Se=I("添加人员"),Ne={class:"role_right_down"},Oe={class:"flexb"},Qe={key:0},Re=I("保存"),ze={class:"role_perm"},je={key:0},De={class:"check_group_pre"},Je={key:1},Me={class:"fleximg"},Pe=I("变更角色"),Te=I("删除"),Fe={class:"flexl person_change_role"},Ke=ce((()=>x("div",null,"角色",-1))),Ye={class:"add_person flex"},Ge={class:"person_tree"},Le={class:"person_tree_menu flexl"},Ze=["onClick"],qe={class:"person_list"},We={key:0},Xe={class:"flexb search_box"},He=I("搜索"),$e={key:1,class:"person_group_pre"},el={class:"person_selected"},ll={class:"flexb person_selected_top"},al=ce((()=>x("div",null,"已选择",-1))),tl=ce((()=>x("span",null,"/人",-1))),sl={class:"flexl person_checked_list"},ul={class:"flexr"},ol=I("取消"),nl=I("添加");var il=d(_({setup(e){const l=P(),a=g(),t=g(),s=g(),u=g(!1),o=g(!1),d=g(),_=g([]),k=g(["权限","人员"]),O=g(0),R=g(),z=g(!1),j=g(),D=g(),Y=g(),G=g([]),L=g([]),Z=g(!1),X=g(["全部人员","分组"]),H=g(0),$=g(0),ee=g(0),le=g(),ae=g();g([]);const te=g(),se=g([]),ue=g(),oe={children:"list",label:"name"},ne=g(),ie=g(),ce=g(1),il=g(10),dl=g(0),cl=g(!1),rl=g([]),Al=g(),vl={},pl=async()=>{const{status:e,body:a}=await W(),t=await c("user ","/web/permit/company.list");t.status&&(G.value=fl(t.body)),e&&(()=>{_.value=a;const e=v("roleId"),t=Object.keys(a);R.value=e||t[0],l.push("/manage/company/rolepermission?roleId="+R.value),O.value?gl(R.value):_l(R.value)})()};pl();const ml=y((()=>{const e={};return L.value.length>0&&L.value.forEach((l=>{e[l.instance]=i(n({},e[l.instance]),{[l.pid]:e[l.instance]&&e[l.instance][l.pid]?e[l.instance][l.pid].concat(l.permit_id):[l.permit_id]})})),Y.value=(new Date).getTime(),e})),fl=e=>{const l={},a=[];return e.forEach((e=>{l[e.instance_id]={};const t=i(n({},e),{select:!1,indeterminate:!1,userSelect:!1});a.push(t)})),D.value=JSON.parse(JSON.stringify(l)),a},_l=async e=>{const{status:l,body:a}=await(t={roleId:e||v("roleId")},c("user ","/web/permit/role.list",t));var t;l&&(L.value=a)},gl=async e=>{const l={roleId:e||v("roleId"),current:ce.value,size:il.value},{status:a,body:t}=await(s=l,c("user ","/web/company/user/two.page",s));var s;a&&(ie.value=t.records,dl.value=t.total)},kl=async e=>{cl.value=!0,Al.value=e;const{status:l,body:a}=await(t={memberId:e},c("user ","/web/company/role/ids.get",t));var t;l&&(rl.value=a)},yl=async()=>{const e={role_ids:rl.value,member_id:Al.value},{status:l}=await(e=>r("user ","/web/company/role/ids.up",e,!0))(e);l&&(cl.value=!1,gl())},hl=e=>{p.confirm("是否确认从当前角色中删除此人员","操作提示",{confirmButtonText:"确认",cancelButtonText:"取消"}).then((async()=>{const l={role_id:Number(v("roleId")),member_id:e},{status:a}=await(e=>r("user ","/web/company/role/id.del",e,!0))(l);a&&gl()}))},bl=async()=>{if(j.value){const e={role_id:Number(R.value),role_name:j.value},{status:l}=await(e=>r("user ","/web/company/role/name.up",e))(e);l&&(_.value[R.value]=j.value,f("修改成功")),z.value=!1,u.value=!1}else m("请输入角色名")},Vl=async()=>{const{status:e}=await(l={role_name:d.value},r("user ","/web/company/role.in",l,!0));var l;o.value=!1,d.value="",e&&(async()=>{const e=await W();e.status&&(_.value=e.body)})()},Cl=()=>{o.value=!0,T((()=>{s.value.focus()}))},wl=()=>{p.confirm("是否确认保存当前勾选","操作提示",{confirmButtonText:"确认",cancelButtonText:"取消"}).then((async()=>{const e={map:xl(D.value),role_id:Number(v("roleId"))},{status:l,message:a}=await(e=>r("user ","/web/permit/role.add",e))(e);l&&(_l(),f(a?a.toString():"保存成功"))}))},xl=e=>{vl.vallue={};for(const l in e)for(const a in e[l])e[l][a].length>0&&(vl.vallue[l]=vl.vallue[l]?vl.vallue[l].concat(e[l][a]):e[l][a]);return vl.vallue},El=async()=>{p.confirm("是否确认删除当前角色","操作提示",{confirmButtonText:"确认",cancelButtonText:"取消"}).then((async()=>{const e={role_id:Number(v("roleId"))},{status:a,message:t}=await(e=>r("user ","/web/company/role.del",e))(e);a&&(l.push("/manage/company/rolepermission"),pl(),f(t?t.toString():"删除成功"))}))},Ul=()=>{T((()=>{const e=document.querySelector(".add_person_menu_active");e&&(ee.value=e.offsetLeft,$.value=e.offsetWidth)}))},Il=()=>{Z.value=!0,Bl(),Ol(),T((()=>{Ul()}))},Bl=async()=>{const{status:e,body:l}=await c("user ","/web/company/member.list");e&&(ae.value=l,te.value=l)},Sl=async()=>{if(!le.value)return void m("请输入姓名或昵称搜索");const{status:e,body:l}=await(a={name:le.value},c("user ","/web/company/member/name.get",a));var a;e&&(ae.value=l)},Nl=e=>(e.forEach((l=>{!te.value[l.toString()]&&e.splice(e.indexOf(l),1)})),e),Ol=async()=>{const{status:e,body:l}=await c("user ","/web/company/member.do");e&&(ue.value=l)},Ql=(e,l,a)=>{const t=JSON.parse(JSON.stringify(se.value));!e.list&&(l&&t.push(e.id),!l&&(()=>{const l=t.indexOf(e.id);t.splice(l,1)})()),se.value=t},Rl=async()=>{if(!se.value.length)return void m("请选择要添加的人员");const e={role_id:v("roleId"),member_ids:se.value},{status:l}=await(e=>r("user ","/web/company/member/role/list.up",e,!0))(e);l&&(Z.value=!1,gl())};return(e,n)=>{const i=h("el-input"),c=h("el-button"),r=h("el-button-group"),v=h("el-checkbox"),p=h("el-table-column"),m=h("el-table"),f=h("el-option"),g=h("el-select"),y=h("el-empty"),P=h("el-checkbox-group"),L=h("el-scrollbar"),W=h("el-tree"),Al=h("el-dialog");return b(),V("div",re,[x("div",Ae,[x("div",{class:"flexb role_all_txt"},[ve,x("div",{class:"fleximg",onClick:Cl},pe)]),x("div",me,[(b(!0),V(C,null,w(_.value,((e,a)=>(b(),V("div",{key:a,class:Q(Number(R.value)===Number(a)?"role_item_active role_item els":"role_item els"),onClick:e=>(e=>{R.value=e,l.push("/manage/company/rolepermission?roleId="+e),O.value?gl(e):_l(e)})(a)},[I(B(e)+" ",1),x("div",_e,[x("div",{class:"fleximg",onClick:Il},ge),x("div",{class:"fleximg",onClick:l=>{return a=e,l.stopPropagation(),u.value=!0,j.value=a,void T((()=>{t.value.focus()}));var a}},ye,8,ke),x("div",{class:"fleximg",onClick:El},he)])],10,fe)))),128))])]),x("div",be,[x("div",Ve,[x("div",null,[z.value?(b(),V("div",Ee,[E(i,{ref_key:"RoleNameRef",ref:a,modelValue:j.value,"onUpdate:modelValue":n[1]||(n[1]=e=>j.value=e),class:"role_name_input",placeholder:"请输入角色名"},null,8,["modelValue"]),E(c,{type:"primary",onClick:bl},{default:U((()=>[Ue])),_:1}),E(c,{type:"info",plain:"",onClick:n[2]||(n[2]=e=>z.value=!1)},{default:U((()=>[Ie])),_:1})])):(b(),V("div",Ce,[x("div",we,B(_.value[R.value]),1),x("div",{class:"fleximg edit_img",onClick:n[0]||(n[0]=e=>{return l=_.value[R.value],z.value=!0,j.value=l,void T((()=>{a.value.focus()}));var l})},xe)]))]),x("div",null,[E(c,{type:"info",plain:"",onClick:El},{default:U((()=>[Be])),_:1}),E(c,{type:"primary",onClick:Il},{default:U((()=>[E(A,{href:"#icon-tianjia",size:"14px",color:"white"}),Se])),_:1})])]),x("div",Ne,[x("div",Oe,[E(r,{size:"middle",class:"btn_tab"},{default:U((()=>[(b(!0),V(C,null,w(k.value,((e,l)=>(b(),S(c,{key:e,class:Q(O.value===l?"btn_tab_active role_toggle":"role_toggle"),onClick:e=>(e=>{O.value=e,e?gl():_l()})(l)},{default:U((()=>[I(B(e),1)])),_:2},1032,["class","onClick"])))),128))])),_:1}),O.value?J("",!0):(b(),V("div",Qe,[E(c,{type:"primary",onClick:wl},{default:U((()=>[Re])),_:1})]))]),x("div",ze,[O.value?(b(),V("div",Je,[E(m,{ref:"multipleTableRef",data:ie.value,style:{width:"100%"}},{default:U((()=>[E(p,{type:"selection",width:"70",align:"center"}),E(p,{label:"姓名","min-width":"120"},{default:U((({row:e})=>[I(B(e.user_name),1)])),_:1}),E(p,{label:"分组","min-width":"120"},{default:U((({row:e})=>[I(B(e.group_name),1)])),_:1}),E(p,{label:"联系电话","min-width":"120"},{default:U((({row:e})=>[I(B(e.mobile),1)])),_:1}),E(p,{label:"添加时间","min-width":"150"},{default:U((({row:e})=>[I(B(N(F)(new Date(e.create_time),"yyyy-MM-dd")),1)])),_:1}),E(p,{label:"操作","min-width":"120",align:"center"},{default:U((({row:e})=>[x("div",Me,[E(c,{class:"person_table_operate",type:"text",onClick:l=>kl(e.id)},{default:U((()=>[Pe])),_:2},1032,["onClick"]),E(c,{type:"text",onClick:l=>hl(e.id)},{default:U((()=>[Te])),_:2},1032,["onClick"])])])),_:1})])),_:1},8,["data"]),E(K,{page:ce.value,"onUpdate:page":n[3]||(n[3]=e=>ce.value=e),size:il.value,"onUpdate:size":n[4]||(n[4]=e=>il.value=e),total:dl.value,onChange:n[5]||(n[5]=e=>gl())},null,8,["page","size","total"])])):(b(),V("div",je,[(b(!0),V(C,null,w(G.value,((e,l)=>(b(),V("div",{key:l},[E(v,{modelValue:e.select,"onUpdate:modelValue":l=>e.select=l,label:e.instance_name,size:"large",indeterminate:e.indeterminate,onChange:e=>((e,l)=>{G.value[l].select=e,G.value[l].userSelect=[(new Date).getTime(),e].join(","),G.value[l].indeterminate=!1})(e,l)},null,8,["modelValue","onUpdate:modelValue","label","indeterminate","onChange"]),x("div",De,[E(q,{modelValue:D.value[e.instance_id],"onUpdate:modelValue":l=>D.value[e.instance_id]=l,item:e.list,"ckecked-lists":N(ml)[e.instance_id],"all-checked":e.userSelect,"getchecked-list-flag":Y.value,onAllChecked:e=>((e,l)=>{G.value[l].select=e})(e,l),onIsIndeterminate:e=>((e,l)=>{G.value[l].indeterminate=e})(e,l)},null,8,["modelValue","onUpdate:modelValue","item","ckecked-lists","all-checked","getchecked-list-flag","onAllChecked","onIsIndeterminate"])])])))),128))]))])])]),E(de,{modelValue:u.value,"onUpdate:modelValue":n[7]||(n[7]=e=>u.value=e),title:"修改角色名",onSure:bl},{default:U((()=>[x("div",null,[E(i,{ref_key:"RoleNameEditRef",ref:t,modelValue:j.value,"onUpdate:modelValue":n[6]||(n[6]=e=>j.value=e),class:"role_name_input",placeholder:"请输入角色名"},null,8,["modelValue"])])])),_:1},8,["modelValue"]),E(de,{modelValue:o.value,"onUpdate:modelValue":n[9]||(n[9]=e=>o.value=e),title:"新增角色",onSure:Vl},{default:U((()=>[x("div",null,[E(i,{ref_key:"addRoleNameRef",ref:s,modelValue:d.value,"onUpdate:modelValue":n[8]||(n[8]=e=>d.value=e),class:"role_name_input",placeholder:"请输入角色名"},null,8,["modelValue"])])])),_:1},8,["modelValue"]),E(de,{modelValue:cl.value,"onUpdate:modelValue":n[11]||(n[11]=e=>cl.value=e),title:"变更角色",onSure:yl},{default:U((()=>[x("div",Fe,[Ke,E(g,{modelValue:rl.value,"onUpdate:modelValue":n[10]||(n[10]=e=>rl.value=e),class:"person_change_role_select",multiple:"",placeholder:"请选择角色（可多选）"},{default:U((()=>[(b(!0),V(C,null,w(_.value,((e,l)=>(b(),S(f,{key:l,label:e,value:Number(l)},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])])),_:1},8,["modelValue"]),E(Al,{modelValue:Z.value,"onUpdate:modelValue":n[16]||(n[16]=e=>Z.value=e),title:"添加人员","custom-class":"add_person_dialogo_hwy",onClose:n[17]||(n[17]=e=>se.value=[])},{default:U((()=>[x("div",Ye,[x("div",Ge,[x("div",Le,[(b(!0),V(C,null,w(X.value,((e,l)=>(b(),V("div",{key:l,class:Q(H.value===l?"add_person_menu_active add_person_menu_item":"add_person_menu_item"),onClick:e=>(e=>{H.value=e,Ul()})(l)},B(e),11,Ze)))),128)),x("div",{class:"person_tree_menu_line",style:M("width:"+$.value+"px;left:"+ee.value+"px")},null,4)]),x("div",qe,[H.value?(b(),V("div",$e,[E(L,{class:"person_group_list"},{default:U((()=>[ue.value.length?(b(),S(W,{key:0,ref_key:"checkTreeRef",ref:ne,data:ue.value,"show-checkbox":"","node-key":"id",props:oe,"default-expand-all":"","check-on-click-node":"","expand-on-click-node":!1,"default-checked-keys":se.value,onCheckChange:Ql},null,8,["data","default-checked-keys"])):(b(),S(y,{key:1,description:"暂无数据"}))])),_:1})])):(b(),V("div",We,[x("div",Xe,[E(i,{modelValue:le.value,"onUpdate:modelValue":n[12]||(n[12]=e=>le.value=e),class:"person_search_input",placeholder:"请输入姓名或昵称搜索",clearable:"",onInput:n[13]||(n[13]=e=>{!e&&Bl()})},null,8,["modelValue"]),E(c,{class:"bdc_btn",onClick:Sl},{default:U((()=>[He])),_:1})]),E(L,{class:"person_list"},{default:U((()=>["{}"===JSON.stringify(ae.value)?(b(),S(y,{key:0,description:"暂无数据"})):(b(),S(P,{key:1,modelValue:se.value,"onUpdate:modelValue":n[14]||(n[14]=e=>se.value=e)},{default:U((()=>[x("div",null,[(b(!0),V(C,null,w(ae.value,((e,l)=>(b(),S(v,{key:l,class:"person_check_item",label:Number(l)},{default:U((()=>[I(B(e),1)])),_:2},1032,["label"])))),128))])])),_:1},8,["modelValue"]))])),_:1})]))])]),x("div",el,[x("div",ll,[al,x("div",null,[I(B(se.value.length),1),tl])]),x("div",sl,[(b(!0),V(C,null,w(se.value,(e=>(b(),V("div",{key:e,class:"person_checked flexb"},[I(B(te.value[e])+" ",1),E(A,{href:"#icon-shibai",size:"14px",onClick:l=>(e=>{const l=JSON.parse(JSON.stringify(se.value)).indexOf(e);ne.value&&-1!=Nl(ne.value.getCheckedKeys()).indexOf(e)?ne.value.setChecked(e,!1,!1):se.value.splice(l,1)})(e)},null,8,["onClick"])])))),128))])])]),x("div",ul,[E(c,{plain:"",onClick:n[15]||(n[15]=e=>Z.value=!1)},{default:U((()=>[ol])),_:1}),E(c,{type:"primary",onClick:Rl},{default:U((()=>[nl])),_:1})])])),_:1},8,["modelValue"])])}}}),[["__scopeId","data-v-7219045c"]]);export{il as default};
