import{K as e}from"./KzTopBtns.1a7ff962.js";import{K as a}from"./KzEmpty.167bd755.js";import{K as t}from"./KzDmpTitle.e9e9ecfa.js";import{K as l}from"./KzPage.c06de159.js";import{H as s,g as r,u as o,_ as p,o as d,I as i,J as n,a as c,B as u,w as y,a2 as m,ay as b,b as v,ae as f}from"./vue.fa004e33.js";import{f as _}from"./date.23847c74.js";import{g,c as j,s as z}from"./seekAbroad.adc25ccb.js";import{_ as h}from"./index.ef7540d4.js";import"./KzDialog.b7070902.js";import"./kzkf.83b11867.js";import"./tinymce.50e98bcc.js";const w={class:"kz_card my_supplier_page dmp_page"},K={class:"fsc mb20"},k={class:"dmp_table"},S={style:{width:"100px"}},x={class:"els"};var B=h(s({setup(s){const h=b(),B=r([]),D=r(0),C=r(10),H=r(1),I=r(!1),M=async()=>{I.value=!0;const e={current:H.value,size:C.value,id:h.query.id},{status:a,body:t}=await j(e);I.value=!1,a&&(D.value=t.total,B.value=t.records)};M();const R=r([]),T=e=>{R.value=e.map((e=>e.id))},U=r(),q=r(),A=o((()=>!R.value.length)),E=async()=>{q.value.setLoading(!0);const e=await z({list:R.value});q.value.close(e.message),R.value=[],U.value.clearSelection()};return(s,r)=>{const o=v("el-table-column"),b=v("el-tooltip"),j=v("el-table"),z=f("loading");return p((d(),i("div",w,[n("div",K,[c(t,{total:D.value},null,8,["total"]),c(e,{ref_key:"topBtnRef",ref:q,type:"sync",syncbtn:"","sync-api":u(g),"sync-disabled":u(A),onSync:E},null,8,["sync-api","sync-disabled"])]),n("div",k,[c(j,{ref_key:"tableRef",ref:U,data:B.value,height:"100%",onSelectionChange:T},{empty:y((()=>[c(a)])),default:y((()=>[c(o,{type:"selection",width:"50"}),c(o,{property:"id",label:"序号"}),c(o,{property:"name",label:"企业名称"}),c(o,{property:"contact",label:"联系人"}),c(o,{property:"mobiles",label:"联系方式"}),c(o,{property:"email",label:"邮箱"}),c(o,{property:"country_id",label:"地区"}),c(o,{property:"address",label:"公司地址"},{default:y((({row:e})=>[c(b,{effect:"dark",placement:"top"},{content:y((()=>[n("div",S,m(e.address),1)])),default:y((()=>[n("div",x,m(e.address),1)])),_:2},1024)])),_:1}),c(o,{property:"url",label:"企业官网"}),c(o,{property:"code",label:"HS编码"}),c(o,{property:"product_number",label:"数量"}),c(o,{property:"product_weight",label:"重量（kg）"}),c(o,{property:"shipment_port",label:"出货港口"}),c(o,{property:"unload_port",label:"卸货港口"}),c(o,{property:"industry_id",label:"更新日期"},{default:y((({row:e})=>[n("div",null,m(u(_)(new Date(Number(e.create_time)),"yyyy-MM-dd")),1)])),_:1})])),_:1},8,["data"])]),c(l,{page:H.value,"onUpdate:page":r[0]||(r[0]=e=>H.value=e),size:C.value,"onUpdate:size":r[1]||(r[1]=e=>C.value=e),total:D.value,onChange:M},null,8,["page","size","total"])])),[[z,I.value]])}}}),[["__scopeId","data-v-09246b62"]]);export{B as default};
