import{K as e}from"./KzTopBtns.a4b21265.js";import{K as a}from"./KzEmpty.a0bcbd2b.js";import{K as t}from"./KzPage.d24cd6e4.js";import{K as l}from"./KzDmpTitle.df12656c.js";import{H as s,g as r,u as o,_ as p,o as d,I as i,J as c,a as n,B as u,w as y,a2 as m,ay as b,b as v,ae as f}from"./vue.fa004e33.js";import{f as _}from"./date.23847c74.js";import{g,c as j,s as z}from"./seekAbroad.c51a79e2.js";import{_ as h}from"./index.f91ef24c.js";import"./KzDialog.32a9c724.js";import"./kzkf.83b11867.js";import"./tinymce.50e98bcc.js";const w={class:"kz_card my_buyer_page dmp_page"},K={class:"fsc mb20"},k={class:"dmp_table"},S={style:{width:"100px"}},x={class:"els"};var B=h(s({setup(s){const h=b(),B=r([]),D=r(0),C=r(10),H=r(1),I=r(!1),M=async()=>{I.value=!0;const e={current:H.value,size:C.value,id:h.query.id},{status:a,body:t}=await j(e);I.value=!1,a&&(D.value=t.total,B.value=t.records)};M();const R=r([]),T=e=>{R.value=e.map((e=>e.id))},U=r(),q=r(),A=o((()=>!R.value.length)),E=async()=>{q.value.setLoading(!0);const e=await z({list:R.value});q.value.close(e.message),R.value=[],U.value.clearSelection()};return(s,r)=>{const o=v("el-table-column"),b=v("el-tooltip"),j=v("el-table"),z=f("loading");return p((d(),i("div",w,[c("div",K,[n(l,{total:D.value},null,8,["total"]),n(e,{ref_key:"topBtnRef",ref:q,type:"sync",syncbtn:"","sync-api":u(g),"sync-disabled":u(A),onSync:E},null,8,["sync-api","sync-disabled"])]),c("div",k,[n(j,{ref_key:"tableRef",ref:U,data:B.value,height:"100%",onSelectionChange:T},{empty:y((()=>[n(a)])),default:y((()=>[n(o,{type:"selection",width:"50"}),n(o,{property:"id",label:"序号"}),n(o,{property:"name",label:"企业名称"}),n(o,{property:"contact",label:"联系人"}),n(o,{property:"mobiles",label:"联系方式"}),n(o,{property:"email",label:"邮箱"}),n(o,{property:"country_id",label:"地区"}),n(o,{property:"address",label:"公司地址"},{default:y((({row:e})=>[n(b,{effect:"dark",placement:"top"},{content:y((()=>[c("div",S,m(e.address),1)])),default:y((()=>[c("div",x,m(e.address),1)])),_:2},1024)])),_:1}),n(o,{property:"url",label:"企业官网"}),n(o,{property:"code",label:"HS编码"}),n(o,{property:"product_number",label:"数量"}),n(o,{property:"product_weight",label:"重量（kg）"}),n(o,{property:"shipment_port",label:"出货港口"}),n(o,{property:"unload_port",label:"卸货港口"}),n(o,{property:"industry_id",label:"更新日期"},{default:y((({row:e})=>[c("div",null,m(u(_)(new Date(Number(e.create_time)),"yyyy-MM-dd")),1)])),_:1})])),_:1},8,["data"])]),n(t,{page:H.value,"onUpdate:page":r[0]||(r[0]=e=>H.value=e),size:C.value,"onUpdate:size":r[1]||(r[1]=e=>C.value=e),total:D.value,onChange:M},null,8,["page","size","total"])])),[[z,I.value]])}}}),[["__scopeId","data-v-130e13c7"]]);export{B as default};
