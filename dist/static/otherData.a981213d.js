var e=Object.defineProperty,a=Object.defineProperties,l=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,s=(a,l,t)=>l in a?e(a,l,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[l]=t;import{_ as o}from"./KzCascader.6fd21cdd.js";import{K as u}from"./KzEmpty.61a513e5.js";import{K as i}from"./KzPage.9312e74c.js";import{_ as n,m as p,P as c,Q as m,R as v,e as f}from"./index.7f252a0e.js";import{g as y,a as _}from"./findC.9b95a9e9.js";import{H as b,g as w,u as g,o as h,I as x,J as k,a as V,w as j,P as z,aa as O,a3 as C,a2 as P,B as U,av as H,aw as K,r as R,c as I}from"./vue.a499711c.js";import"./tinymce.275386ab.js";const D=e=>(H("data-v-0e883901"),e=e(),K(),e),E={class:"dmp_other_data"},L={class:"kz_card"},M={class:"top_search"},N={class:"fcs"},S=P(" 查询 "),T=P(" 重置 "),B={class:"kz_card"},F={class:"fsc f1"},J=D((()=>k("div",{class:"card_title"},"第三方数据源",-1))),Q=P("同步数据"),q=D((()=>k("div",{class:"tips"},[
P(" 为您找到 "),
k("span",null,"0"),
P(" 家符合条件的客户（*根据政策与监管法规要求，联系人手机号脱敏展示） ")],-1))),A={class:"mytable"},G=["innerHTML"],W={style:{width:"100px"},class:"fcc"},X={class:"els"},Y={style:{width:"100px"},class:"fcc"},Z={class:"els"};var $=n(b({name:"otherData",setup(e){w([]);const n=w(0),b=w(10),H=w(1),K=p(),D=g((()=>K.state.addressHash)),$=g((()=>K.state.typeHash));w([]);const ee=["","success","info","warning","danger"],ae=w(0),le=w(!1),te=w([]),de=w({size:b.value,current:1,source:1}),re=w([]);(async()=>{const e=await y();1===e.status&&(re.value=e.body)})();const se=[{id:0},{id:1,min:18,max:23},{id:2,min:24,max:30},{id:3,min:31,max:40},{id:4,min:41,max:49},{id:5,min:50}],oe=[{id:0,value:"不限"},{id:1,value:"男"},{id:2,value:"女"}],ue=w({keyword:"",industry_id:[],address:[],age:"",education:"",sex:""}),ie=w(),ne=()=>{ie.value.resetFields()},pe=()=>{de.value.current=1,ce()},ce=async()=>{var e,o;le.value=!0;const u=await _((i=((e,a)=>{for(var l in a||(a={}))d.call(a,l)&&s(e,l,a[l]);if(t)for(var l of t(a))r.call(a,l)&&s(e,l,a[l]);return e})({},de.value),n={keyword:ue.value.keyword,industry_id:ue.value.industry_id.join(),province:ue.value.address[0]||null,city:ue.value.address[1]||null,district:ue.value.address[2]||null,start_age:(null==(e=se.find((e=>e.id===Number(ue.value.age))))?void 0:e.min)||null,end_age:(null==(o=se.find((e=>e.id===Number(ue.value.age))))?void 0:o.max)||null,education:ue.value.education,sex:ue.value.sex},a(i,l(n))));var i,n;le.value=!1,1===u.status?(ae.value=u.body.total,te.value=u.body.records):f("查询失败")},me=w([]),ve=e=>{me.value=e.map((e=>e.id))},fe=()=>{ce()},ye=w();return w(),g((()=>!me.value.length)),(e,a)=>{const l=R("el-form-item"),t=R("el-input"),d=R("el-radio"),r=R("el-radio-group"),s=R("el-button"),p=R("el-form"),f=R("el-table-column"),y=R("el-tooltip"),_=R("el-tag"),w=R("el-table");return h(),x("div",E,[k("div",L,[k("div",M,[V(p,{ref_key:"formRef",ref:ie,model:ue.value},{default:j((()=>[k("div",N,[V(l,{label:"行业",prop:"industry_id"},{default:j((()=>[V(o,{ref:"typeCRef",modelValue:ue.value.industry_id,"onUpdate:modelValue":a[0]||(a[0]=e=>ue.value.industry_id=e),type:"type"},null,8,["modelValue"])])),_:1}),V(l,{label:"地区",prop:"address"},{default:j((()=>[V(o,{ref:"addrCRef",modelValue:ue.value.address,"onUpdate:modelValue":a[1]||(a[1]=e=>ue.value.address=e),type:"address"},null,8,["modelValue"])])),_:1}),V(l,{label:"关键字",prop:"keyword"},{default:j((()=>[V(t,{modelValue:ue.value.keyword,"onUpdate:modelValue":a[2]||(a[2]=e=>ue.value.keyword=e),placeholder:"请输入职业、兴趣等关键词",maxlength:"15"},null,8,["modelValue"])])),_:1})]),V(l,{label:"年龄",prop:"age"},{default:j((()=>[V(r,{modelValue:ue.value.age,"onUpdate:modelValue":a[3]||(a[3]=e=>ue.value.age=e)},{default:j((()=>[(h(),x(z,null,O(se,(e=>V(d,{key:e.id,label:e.id},{default:j((()=>[P(C(e.min?e.max?e.min+"岁-"+e.max+"岁":e.min+"+岁":"不限"),1)])),_:2},1032,["label"]))),64))])),_:1},8,["modelValue"])])),_:1}),V(l,{label:"学历",prop:"education"},{default:j((()=>[V(r,{modelValue:ue.value.education,"onUpdate:modelValue":a[4]||(a[4]=e=>ue.value.education=e)},{default:j((()=>[(h(!0),x(z,null,O(re.value,(e=>(h(),I(d,{key:e.id,label:e.value},{default:j((()=>[P(C(e.id?e.name:"不限"),1)])),_:2},1032,["label"])))),128))])),_:1},8,["modelValue"])])),_:1}),V(l,{label:"性别",prop:"sex"},{default:j((()=>[V(r,{modelValue:ue.value.sex,"onUpdate:modelValue":a[5]||(a[5]=e=>ue.value.sex=e)},{default:j((()=>[(h(),x(z,null,O(oe,(e=>V(d,{key:e.id,label:e.id},{default:j((()=>[P(C(e.value),1)])),_:2},1032,["label"]))),64))])),_:1},8,["modelValue"])])),_:1}),k("div",null,[V(s,{type:"primary",onClick:pe},{default:j((()=>[S])),_:1}),V(s,{onClick:ne},{default:j((()=>[T])),_:1})])])),_:1},8,["model"])])]),k("div",B,[k("div",F,[J,V(s,{type:"primary",class:"btns mr16",plain:""},{default:j((()=>[Q])),_:1})]),q,k("div",A,[V(w,{ref_key:"tableRef",ref:ye,data:te.value,style:{width:"100%"},height:"100%",onSelectionChange:ve},{empty:j((()=>[V(u)])),default:j((()=>[V(f,{type:"selection",width:"50"}),V(f,{property:"name",label:"姓名",width:"70"}),V(f,{property:"sex",label:"性别",width:"60"},{default:j((e=>[k("div",null,C(0==e.row.sex?"未知":1==e.row.sex?"男":"女"),1)])),_:1}),V(f,{property:"age",label:"年龄",width:"70"}),V(f,{property:"education",label:"学历",width:"130"},{default:j((e=>[P(C(re.value.find((a=>a.id===e.row.education)).name),1)])),_:1}),V(f,{property:"mobiles",label:"联系方式",width:"120"},{default:j((e=>[k("div",{innerHTML:e.row.mobiles},null,8,G)])),_:1}),V(f,{property:"email",label:"邮箱",width:"180"}),V(f,{property:"industry_id",label:"从事行业",width:"110"},{default:j((e=>[V(y,{effect:"dark",placement:"top"},{content:j((()=>[k("div",W,C(U(c)(e.row.industry_id,U($))),1)])),default:j((()=>[k("div",X,C(U(c)(e.row.industry_id,U($),"last")),1)])),_:2},1024)])),_:1}),V(f,{property:"job",label:"职业",width:"120"}),V(f,{property:"tags",label:"行为兴趣",width:"250"},{default:j((({row:e})=>[(h(!0),x(z,null,O(e.tags,((e,a)=>(h(),I(_,{key:a,class:"user_tag",type:ee[a]},{default:j((()=>[P(C(e),1)])),_:2},1032,["type"])))),128))])),_:1}),V(f,{property:"address",label:"地区",width:"140"},{default:j((e=>[V(y,{effect:"dark",placement:"top"},{content:j((()=>[k("div",Y,C(U(c)(U(m)(e.row.province,e.row.city,e.row.district),U(D))),1)])),default:j((()=>[k("div",Z,C(U(c)(U(m)(e.row.province,e.row.city,e.row.district),U(D))),1)])),_:2},1024)])),_:1}),V(f,{property:"source",label:"来源",width:"100"},{default:j((e=>[k("div",null,C(U(v)(e.row.source)),1)])),_:1})])),_:1},8,["data"])]),V(i,{page:H.value,"onUpdate:page":a[6]||(a[6]=e=>H.value=e),size:b.value,"onUpdate:size":a[7]||(a[7]=e=>b.value=e),total:n.value,onChange:fe},null,8,["page","size","total"])])])}}}),[["__scopeId","data-v-0e883901"]]);export{$ as default};
