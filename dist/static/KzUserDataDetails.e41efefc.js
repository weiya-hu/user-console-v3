import{K as e}from"./KzPage.9312e74c.js";import{K as a}from"./KzEmpty.61a513e5.js";import{f as t}from"./date.23847c74.js";import{m as l,P as s,Q as r,R as o,_ as u}from"./index.7f252a0e.js";import{H as i,u as d,g as n,r as p,o as c,I as v,a as m,w as y,J as f,a3 as b,B as _,Y as h,ay as g,ad as w,$ as z}from"./vue.a499711c.js";const x=["innerHTML"],K=i({name:"KzUserTable",props:{data:null,oheight:{default:126}},emits:["select"],setup(e,{expose:u,emit:i}){const g=l(),w=d((()=>g.state.typeHash)),z=d((()=>g.state.addressHash)),K=n([]),L=e=>{K.value=e.map((e=>e.id))},j=n();return u({selIdList:K,clear:()=>{K.value=[],j.value.clearSelection()}}),(l,u)=>{const i=p("el-table-column"),d=p("el-table");return c(),v("div",{class:"mytable user_table",style:h({height:`calc( 100% - ${e.oheight}px )`})},[m(d,{ref_key:"tableRef",ref:j,data:e.data,style:{width:"100%"},height:"100%",onSelectionChange:L},{empty:y((()=>[m(a)])),default:y((()=>[m(i,{type:"selection",width:"50"}),m(i,{property:"name",label:"姓名"}),m(i,{property:"sex",label:"性别"},{default:y((e=>[f("div",null,b(0==e.row.sex?"未知":1==e.row.sex?"男":"女"),1)])),_:1}),m(i,{property:"mobiles",label:"联系方式"},{default:y((e=>[f("div",{innerHTML:e.row.mobiles},null,8,x)])),_:1}),m(i,{property:"email",label:"邮箱"}),m(i,{property:"type",label:"从事行业"},{default:y((e=>[f("div",null,b(_(s)(e.row.industry_id.split(","),_(w),"last")),1)])),_:1}),m(i,{label:"地区"},{default:y((e=>[f("div",null,b(_(s)(_(r)(e.row.province,e.row.city,e.row.district),_(z))),1)])),_:1}),m(i,{property:"source",label:"来源"},{default:y((e=>[f("div",null,b(_(o)(e.row.source)),1)])),_:1}),m(i,{property:"update_time",label:"创建时间"},{default:y((e=>[f("div",null,b(_(t)(new Date(Number(e.row.update_time)),"yyyy-MM-dd")),1)])),_:1})])),_:1},8,["data"])],4)}}});const L={class:"user_data_details"};var j=u(i({name:"KzUserDataDetails",props:{getListApi:null},setup(a){const t=a,l=n([]),s=n(0),r=n(1),o=n(10),u=n(!1),i=g(),p=()=>{u.value=!0,t.getListApi({size:50,current:r.value,did:i.query.id}).then((e=>{1==e.status&&(s.value=e.body.total,l.value=e.body.records),u.value=!1})).catch((()=>{u.value=!1}))};p(),n();const y=n();return d((()=>y.value&&!y.value.selIdList.length)),(a,t)=>{const i=w("loading");return z((c(),v("div",L,[m(K,{ref_key:"tableRef",ref:y,data:l.value},null,8,["data"]),m(e,{page:r.value,"onUpdate:page":t[0]||(t[0]=e=>r.value=e),size:o.value,"onUpdate:size":t[1]||(t[1]=e=>o.value=e),total:s.value,onChange:p},null,8,["page","size","total"])])),[[i,u.value]])}}}),[["__scopeId","data-v-76da3391"]]);export{j as K};
