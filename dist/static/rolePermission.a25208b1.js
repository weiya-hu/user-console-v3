var e=Object.defineProperty,l=Object.defineProperties,a=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,n=(l,a,t)=>a in l?e(l,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[a]=t,o=(e,l)=>{for(var a in l||(l={}))s.call(l,a)&&n(e,a,l[a]);if(t)for(var a of t(l))u.call(l,a)&&n(e,a,l[a]);return e},i=(e,t)=>l(e,a(t));import{_ as c,g as r,p as d,a6 as A,a as v,E as m,e as p,o as _}from"./index.743440f4.js";import{H as f,g,i as k,u as h,b as y,o as b,I as C,P as V,aa as w,J as x,a as E,w as U,a1 as I,a2 as B,c as S,B as N,a0 as O,X as Q,av as j,aw as R,ax as z,q as D,W as K}from"./vue.fa004e33.js";import{K as J}from"./KzEmpty.21ade687.js";import{K as M}from"./KzDialog.df5ada75.js";import{f as P}from"./date.23847c74.js";import{K as T}from"./KzPage.4cc4cb8e.js";import"./tinymce.50e98bcc.js";import"./kzkf.70bb183f.js";var F="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAADqADAAQAAAABAAAADgAAAAC98Dn6AAACCElEQVQoFYWSz2sTURDHZ17rJk3SaHcXAoJ4EosmpCVo8GRBkTZU/CMEMTXFH714EMnFQ4MgHhR78ebJgwq5hGqNeBCESiqIeFJ7sEp229Sk281m942zDSuJP+fwHrzvfOYN3xmE/8T4bPOQ69o3APA4AtWRxPzKPe0+/otL5RsZgM4LTv4oBuCKJDoARCVEcXbwb+CRGXNfW3ae8E9hEvSgdkdf5NzFdN7Uieic+BM4XqjvtUkuAeIbUHAaia6n8sa1bi5t8B35rdXsxVbCattVRPp0MKGfeVhEZ6xQn5AelAnEApDk30SpD8zMfdc7llMlgDUtoZ2uFtEOOkqfX58mkI8J8LMi1dGf4LHLm2pr2+H2oKEk9NxyEa0A2tFs5zmb1GzH1akPJWzugGOXNvZ4bfcpEtiq0Cerd7EVQL4mbfcZF7Qgqk++vYlbvibYIZRtryYAvaFdItcLZWfNuLS9CpvkDA9DLoB8EDMFY9Rx6b0Mxfa/uz206j/6MTFDMZPMCgCFlPjAieV5dbOrdE/hSkwzv9oLZYoUMcko87CjsbBy6lfIR/1W04hQC6qlrtJI55tZRkBNiYZOvrq1ez3Qem9M5o0lrrzFm7DGYzjKQJLY2YgSPjw1Eq0/+tpIo/D6NoxC8GVQACUloMX2GlxxgZBeawl9hWfobl8wsvz2UkroA9Gmyg+iyuOL+HQm4AAAAABJRU5ErkJggg==";const Y={class:"check_group"},G={class:"flexl permit_page_front els"},L={class:"flexl permit_page_operate"};var Z=c(f({props:{item:null,ckeckedLists:null,allChecked:null,getcheckedListFlag:null},emits:["update:modelValue","allChecked","isIndeterminate"],setup(e,{emit:l}){const a=e,t=g(),s=g(),u=g(),n=g();k(t,(e=>{let a=!0,t=!0,u=!1;for(const l in e)!e[l]&&(a=!1),e[l]&&(t=!1);for(const l in s.value)s.value[l]&&(u=!0);l("allChecked",a),l("isIndeterminate",!a&&!t||u)})),k((()=>a.allChecked),(e=>{const a=e.split(",");"true"==a[1]&&(n.value=JSON.parse(JSON.stringify(u.value)),l("update:modelValue",n.value),t.value=c(t.value,!0),s.value=c(s.value,!1)),"false"==a[1]&&(n.value=c(n.value,[]),l("update:modelValue",n.value),t.value=c(t.value,!1),s.value=c(s.value,!1))})),k((()=>a.getcheckedListFlag),(e=>{v()}));const c=(e,l)=>{const a=JSON.parse(JSON.stringify(e));for(const t in a)a[t]=l;return a},r=(e,l)=>(e.forEach((a=>{if(a.checkAll.permit_id===l.pid)return a.children.push(l),e})),e),d=(e,l)=>{const a={},t={};return e.forEach((e=>{a[e.checkAll.permit_id]=e.children.length===l[e.checkAll.permit_id].length,t[e.checkAll.permit_id]=l[e.checkAll.permit_id].length>0&&l[e.checkAll.permit_id].length<e.children.length})),[a,t]},A=h((()=>{let e=[];return a.item.forEach((l=>{!l.pid&&e.push({checkAll:l,children:[]}),l.pid&&(e=r(e,l))})),e})),v=()=>{let e=[],i={},c={};a.item.forEach((l=>{!l.pid&&e.push({checkAll:l,children:[]}),l.pid&&(e=r(e,l),i[l.pid]=[],c[l.pid]=c[l.pid]?c[l.pid].concat(l.permit_id):[l.permit_id])})),u.value=c,n.value=o(o({},i),a.ckeckedLists),l("update:modelValue",n.value),t.value=d(e,n.value)[0],s.value=d(e,n.value)[1]};v();return(e,a)=>{const c=y("el-checkbox"),r=y("el-checkbox-group");return b(),C("div",Y,[(b(!0),C(V,null,w(N(A),((e,a)=>(b(),C("div",{key:a,class:"flexl permit_page"},[x("div",G,[E(c,{modelValue:t.value[e.checkAll.permit_id],"onUpdate:modelValue":l=>t.value[e.checkAll.permit_id]=l,indeterminate:s.value[e.checkAll.permit_id],onChange:a=>{return c=a,r=e.checkAll.permit_id,n.value=i(o({},n.value),{[r]:c?u.value[r]:[]}),l("update:modelValue",n.value),s.value=i(o({},s.value),{[r]:!1}),void(t.value=i(o({},t.value),{[r]:c}));var c,r}},{default:U((()=>[I(B(e.checkAll.permit_name),1)])),_:2},1032,["modelValue","onUpdate:modelValue","indeterminate","onChange"])]),E(r,{modelValue:n.value[e.checkAll.permit_id],"onUpdate:modelValue":l=>n.value[e.checkAll.permit_id]=l,onChange:a=>((e,a)=>{const c=e.length;t.value=i(o({},t.value),{[a]:c===u.value[a].length}),s.value=i(o({},s.value),{[a]:c>0&&c<u.value[a].length}),n.value=i(o({},n.value),{[a]:e}),l("update:modelValue",n.value)})(a,e.checkAll.permit_id)},{default:U((()=>[x("div",L,[(b(!0),C(V,null,w(e.children,(e=>(b(),S(c,{key:e.permit_id,class:"permit_page_operate_check",label:e.permit_id},{default:U((()=>[I(B(e.permit_name),1)])),_:2},1032,["label"])))),128))])])),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])])))),128))])}}}),[["__scopeId","data-v-26d1626d"]]);const q=()=>r("user ","/web/company/role.list");const W=e=>(j("data-v-a74a91ec"),e=e(),R(),e),X={class:"flexb role_permission"},H={class:"role_left"},$=W((()=>x("div",null,"全部角色",-1))),ee=[W((()=>x("span",null,"+",-1))),I("添加")],le={class:"role_all"},ae={key:0},te=["onClick"],se={class:"flexr role_operate"},ue=[W((()=>x("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAEKADAAQAAAABAAAAEAAAAAA0VXHyAAABP0lEQVQ4EZ1TvUrEQBCeWTXCwaEYAtY22uhVdlr4AtdF30A9SwvBzs7O0qjgA+h19wI2dlZ3NtpYCyGHcnBgxIz59rIQTXYFF7Kzu9/PzCxZpmK0DpKdLJMNYvHMWW0UTpXi+/65fwNcYWrtx2ci2TWT+Ni7BjjgQgMehyfiPb0mI2YJB1HQc4kNttaJ2yLcXVn0m+rlbZxnFW9mtvFgCH/FCVc8aHULNkF4K1P4bDjOp13g893wtMCPbDyngVA2ZxOa84oBSkZmiIVoE8TVTnzJpN6XtxaOu9v8ZcSIzjsoE23rSgVFBt0zMkP4GAV7iIMI889RMSjDKLu8r1s7DdAzRHWZjZnT4PeFGVE5qqX5RpL/0ennx3i9DLjWEy6n0DKI+jEx7ZJQT5hGLjELNYmpncer/kVwqA20yT+f8ze8UnaR+lSA+gAAAABJRU5ErkJggg=="},null,-1)))],ne=["onClick"],oe=[W((()=>x("img",{src:F},null,-1)))],ie=[W((()=>x("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAEKADAAQAAAABAAAAEAAAAAA0VXHyAAABUUlEQVQ4EcVSPUvDYBC+S2sDXcSqoCKIRXBSKeIPcPQHCI5uUqvQzbWrm+IgTjoK7vojpDo4CeIgIkLU4lKMNDnvTC+5xIij7/I873PPfSUvgjkr2+Q+9l6bAFQ1sqF4P1kc3rs4QF9FR4mgJCPBltUsl1jUIFGLCRVGVUI4vzkc3Ujr0W2u7h0xS02HC5veckiwBoAzBFQDgjIgdPMKaAwBr7nZnYNwGq/AyeMIUPo1WSpyYfGI90cDGa8/4ndstUUlNVme9cUTqFlwcedt8Pb5pSNoufUozy0Avlsm4G/BmOKaZTC/gDH8Rf+/QOYh9Qd2/S5+8FtgFMXy7Eq5K7R3K++zYyNDgpZnk+UeF0BynviRLKnprIWfeVw84tVYvEKh4JwEITXn694V/8JLNViMGuD0gIvHqrOWnFqjMxUE4TphOJGoCZPOktzerzyo+gUa1YAqfdUC3QAAAABJRU5ErkJggg=="},null,-1)))],ce={class:"role_right"},re={key:0},de={class:"flexb role_right_top"},Ae={key:0,class:"flexl"},ve={class:"role_name els"},me=[W((()=>x("img",{src:F},null,-1)))],pe={key:1,class:"flexl"},_e=I("保存"),fe=I("取消"),ge=I("删除角色"),ke=I("添加人员"),he={class:"role_right_down"},ye={class:"flexb"},be={key:0},Ce=I("保存"),Ve={class:"role_perm"},we={key:0},xe={class:"check_group_pre"},Ee={key:1},Ue={class:"fleximg"},Ie=I("变更角色"),Be=I("删除"),Se={class:"flexl person_change_role"},Ne=W((()=>x("div",null,"角色",-1))),Oe={class:"add_person flex"},Qe={class:"person_tree"},je={class:"person_tree_menu flexl"},Re=["onClick"],ze={class:"person_list"},De={key:0},Ke={class:"flexb search_box"},Je=I("搜索"),Me={key:1,class:"person_group_pre"},Pe={class:"person_selected"},Te={class:"flexb person_selected_top"},Fe=W((()=>x("div",null,"已选择",-1))),Ye=W((()=>x("span",null,"/人",-1))),Ge={class:"flexl person_checked_list"},Le={class:"flexr add_btns"},Ze=I("取消"),qe=I("添加"),We=W((()=>x("div",{class:"add_btns_after"},null,-1)));var Xe=c(f({setup(e){const l=z(),a=g(),t=g(),s=g(),u=g(!1),n=g(!1),c=g(),f=g([]),k=g(["权限","人员"]),j=g(0),R=g(),F=g(!1),Y=g(),G=g(),L=g(),W=g([]),Xe=g([]),He=g(!1),$e=g(["全部人员","分组"]),el=g(0),ll=g(0),al=g(0),tl=g(),sl=g();g([]);const ul=g(),nl=g([]),ol=g(),il={children:"list",label:"name"},cl=g(),rl=g(),dl=g(1),Al=g(10),vl=g(0),ml=g(!1),pl=g([]),_l=g(),fl={},gl=async()=>{const{status:e,body:a}=await q(),t=await r("user ","/web/permit/company.list");t.status&&(W.value=hl(t.body)),e&&(()=>{f.value=a;const e=v("roleId"),t=Object.keys(a);R.value=e||t[0],l.push("/manage/company/rolepermission?roleId="+R.value),j.value?bl(R.value):yl(R.value)})()};gl();const kl=h((()=>{const e={};return Xe.value.length>0&&Xe.value.forEach((l=>{e[l.instance]=i(o({},e[l.instance]),{[l.pid]:e[l.instance]&&e[l.instance][l.pid]?e[l.instance][l.pid].concat(l.permit_id):[l.permit_id]})})),L.value=(new Date).getTime(),e})),hl=e=>{const l={},a=[];return e.forEach((e=>{l[e.instance_id]={};const t=i(o({},e),{select:!1,indeterminate:!1,userSelect:!1});a.push(t)})),G.value=JSON.parse(JSON.stringify(l)),a},yl=async e=>{const{status:l,body:a}=await(t={roleId:e||v("roleId")},r("user ","/web/permit/role.list",t));var t;l&&(Xe.value=a)},bl=async e=>{const l={roleId:e||v("roleId"),current:dl.value,size:Al.value},{status:a,body:t}=await(s=l,r("user ","/web/company/user/two.page",s));var s;a&&(rl.value=t.records,vl.value=t.total)},Cl=async e=>{ml.value=!0,_l.value=e;const{status:l,body:a}=await(t={memberId:e},r("user ","/web/company/role/ids.get",t));var t;l&&(pl.value=a)},Vl=async()=>{const e={role_ids:pl.value,member_id:_l.value},{status:l}=await(e=>d("user ","/web/company/role/ids.up",e,!0))(e);l&&(ml.value=!1,bl())},wl=e=>{m.confirm("是否确认从当前角色中删除此人员","操作提示",{confirmButtonText:"确认",cancelButtonText:"取消"}).then((async()=>{const l={role_id:Number(v("roleId")),member_id:e},{status:a}=await(e=>d("user ","/web/company/role/id.del",e,!0))(l);a&&bl()}))},xl=async()=>{if(Y.value){const e={role_id:Number(R.value),role_name:Y.value},{status:l}=await(e=>d("user ","/web/company/role/name.up",e))(e);l&&(f.value[R.value]=Y.value,_("修改成功")),F.value=!1,u.value=!1}else p("请输入角色名")},El=async()=>{const{status:e}=await(l={role_name:c.value},d("user ","/web/company/role.in",l,!0));var l;n.value=!1,c.value="",e&&(async()=>{const e=await q();e.status&&(f.value=e.body)})()},Ul=()=>{n.value=!0,D((()=>{s.value.focus()}))},Il=()=>{m.confirm("是否确认保存当前勾选","操作提示",{confirmButtonText:"确认",cancelButtonText:"取消"}).then((async()=>{const e={map:Bl(G.value),role_id:Number(v("roleId"))},{status:l,message:a}=await(e=>d("user ","/web/permit/role.add",e))(e);l&&(yl(),_(a?a.toString():"保存成功"))}))},Bl=e=>{fl.vallue={};for(const l in e)for(const a in e[l])e[l][a].length>0&&(fl.vallue[l]=fl.vallue[l]?fl.vallue[l].concat(e[l][a]):e[l][a]);return fl.vallue},Sl=async()=>{m.confirm("是否确认删除当前角色","操作提示",{confirmButtonText:"确认",cancelButtonText:"取消"}).then((async()=>{const e={role_id:Number(v("roleId"))},{status:a,message:t}=await(e=>d("user ","/web/company/role.del",e))(e);a&&(l.push("/manage/company/rolepermission"),gl(),_(t?t.toString():"删除成功"))}))},Nl=()=>{D((()=>{const e=document.querySelector(".add_person_menu_active");e&&(al.value=e.offsetLeft,ll.value=e.offsetWidth)}))},Ol=()=>{He.value=!0,Ql(),zl(),D((()=>{Nl()}))},Ql=async()=>{const{status:e,body:l}=await r("user ","/web/company/member.list");e&&(sl.value=l,ul.value=l)},jl=async()=>{if(!tl.value)return void p("请输入姓名或昵称搜索");const{status:e,body:l}=await(a={name:tl.value},r("user ","/web/company/member/name.get",a));var a;e&&(sl.value=l)},Rl=e=>(e.forEach((l=>{!ul.value[l.toString()]&&e.splice(e.indexOf(l),1)})),e),zl=async()=>{const{status:e,body:l}=await r("user ","/web/company/member.do");e&&(ol.value=l)},Dl=(e,l,a)=>{const t=JSON.parse(JSON.stringify(nl.value));!e.list&&(l&&t.push(e.id),!l&&(()=>{const l=t.indexOf(e.id);t.splice(l,1)})()),nl.value=t},Kl=async()=>{if(!nl.value.length)return void p("请选择要添加的人员");const e={role_id:v("roleId"),member_ids:nl.value},{status:l}=await(e=>d("user ","/web/company/member/role/list.up",e,!0))(e);l&&(He.value=!1,bl())};return(e,o)=>{const i=y("el-input"),r=y("el-button"),d=y("el-button-group"),v=y("el-checkbox"),m=y("el-table-column"),p=y("el-table"),_=y("el-option"),g=y("el-select"),h=y("el-empty"),z=y("el-checkbox-group"),q=y("el-scrollbar"),Xe=y("el-tree"),_l=y("el-dialog");return b(),C("div",X,[x("div",H,[x("div",{class:"flexb role_all_txt"},[$,x("div",{class:"fleximg",onClick:Ul},ee)]),x("div",le,[Object.keys(f.value)[0]?(b(),C("div",ae,[(b(!0),C(V,null,w(f.value,((e,a)=>(b(),C("div",{key:a,class:K(Number(R.value)===Number(a)?"role_item_active role_item els":"role_item els"),onClick:e=>(e=>{R.value=e,l.push("/manage/company/rolepermission?roleId="+e),j.value?bl(e):yl(e)})(a)},[I(B(e)+" ",1),x("div",se,[x("div",{class:"fleximg",onClick:Ol},ue),x("div",{class:"fleximg",onClick:l=>{return a=e,l.stopPropagation(),u.value=!0,Y.value=a,void D((()=>{t.value.focus()}));var a}},oe,8,ne),x("div",{class:"fleximg",onClick:Sl},ie)])],10,te)))),128))])):(b(),S(J,{key:1}))])]),x("div",ce,[Object.keys(f.value)[0]?(b(),C("div",re,[x("div",de,[x("div",null,[F.value?(b(),C("div",pe,[E(i,{ref_key:"RoleNameRef",ref:a,modelValue:Y.value,"onUpdate:modelValue":o[1]||(o[1]=e=>Y.value=e),class:"role_name_input",placeholder:"请输入角色名"},null,8,["modelValue"]),E(r,{type:"primary",onClick:xl},{default:U((()=>[_e])),_:1}),E(r,{type:"info",plain:"",onClick:o[2]||(o[2]=e=>F.value=!1)},{default:U((()=>[fe])),_:1})])):(b(),C("div",Ae,[x("div",ve,B(f.value[R.value]),1),x("div",{class:"fleximg edit_img",onClick:o[0]||(o[0]=e=>{return l=f.value[R.value],F.value=!0,Y.value=l,void D((()=>{a.value.focus()}));var l})},me)]))]),x("div",null,[E(r,{type:"info",plain:"",onClick:Sl},{default:U((()=>[ge])),_:1}),E(r,{type:"primary",onClick:Ol},{default:U((()=>[E(A,{href:"#icon-tianjia",size:"14px",color:"white"}),ke])),_:1})])]),x("div",he,[x("div",ye,[E(d,{class:"btn_tab"},{default:U((()=>[(b(!0),C(V,null,w(k.value,((e,l)=>(b(),S(r,{key:e,class:K(j.value===l?"btn_tab_active role_toggle":"role_toggle"),onClick:e=>(e=>{j.value=e,e?bl():yl()})(l)},{default:U((()=>[I(B(e),1)])),_:2},1032,["class","onClick"])))),128))])),_:1}),j.value?O("",!0):(b(),C("div",be,[E(r,{type:"primary",onClick:Il},{default:U((()=>[Ce])),_:1})]))]),x("div",Ve,[j.value?(b(),C("div",Ee,[E(p,{ref:"multipleTableRef",data:rl.value,style:{width:"100%"}},{default:U((()=>[E(m,{type:"selection",width:"70",align:"center"}),E(m,{label:"姓名","min-width":"120"},{default:U((({row:e})=>[I(B(e.user_name),1)])),_:1}),E(m,{label:"分组","min-width":"120"},{default:U((({row:e})=>[I(B(e.group_name),1)])),_:1}),E(m,{label:"联系电话","min-width":"120"},{default:U((({row:e})=>[I(B(e.mobile),1)])),_:1}),E(m,{label:"添加时间","min-width":"150"},{default:U((({row:e})=>[I(B(N(P)(new Date(e.create_time),"yyyy-MM-dd")),1)])),_:1}),E(m,{label:"操作","min-width":"120",align:"center"},{default:U((({row:e})=>[x("div",Ue,[E(r,{class:"person_table_operate",type:"text",onClick:l=>Cl(e.id)},{default:U((()=>[Ie])),_:2},1032,["onClick"]),E(r,{type:"text",onClick:l=>wl(e.id)},{default:U((()=>[Be])),_:2},1032,["onClick"])])])),_:1})])),_:1},8,["data"]),E(T,{page:dl.value,"onUpdate:page":o[3]||(o[3]=e=>dl.value=e),size:Al.value,"onUpdate:size":o[4]||(o[4]=e=>Al.value=e),total:vl.value,onChange:o[5]||(o[5]=e=>bl())},null,8,["page","size","total"])])):(b(),C("div",we,[(b(!0),C(V,null,w(W.value,((e,l)=>(b(),C("div",{key:l},[E(v,{modelValue:e.select,"onUpdate:modelValue":l=>e.select=l,label:e.instance_name,size:"large",indeterminate:e.indeterminate,onChange:e=>((e,l)=>{W.value[l].select=e,W.value[l].userSelect=[(new Date).getTime(),e].join(","),W.value[l].indeterminate=!1})(e,l)},null,8,["modelValue","onUpdate:modelValue","label","indeterminate","onChange"]),x("div",xe,[E(Z,{modelValue:G.value[e.instance_id],"onUpdate:modelValue":l=>G.value[e.instance_id]=l,item:e.list,"ckecked-lists":N(kl)[e.instance_id],"all-checked":e.userSelect,"getchecked-list-flag":L.value,onAllChecked:e=>((e,l)=>{W.value[l].select=e})(e,l),onIsIndeterminate:e=>((e,l)=>{W.value[l].indeterminate=e})(e,l)},null,8,["modelValue","onUpdate:modelValue","item","ckecked-lists","all-checked","getchecked-list-flag","onAllChecked","onIsIndeterminate"])])])))),128))]))])])])):(b(),S(J,{key:1}))]),E(M,{modelValue:u.value,"onUpdate:modelValue":o[7]||(o[7]=e=>u.value=e),title:"修改角色名",onSure:xl},{default:U((()=>[x("div",null,[E(i,{ref_key:"RoleNameEditRef",ref:t,modelValue:Y.value,"onUpdate:modelValue":o[6]||(o[6]=e=>Y.value=e),class:"role_name_input",placeholder:"请输入角色名"},null,8,["modelValue"])])])),_:1},8,["modelValue"]),E(M,{modelValue:n.value,"onUpdate:modelValue":o[9]||(o[9]=e=>n.value=e),title:"新增角色",onSure:El},{default:U((()=>[x("div",null,[E(i,{ref_key:"addRoleNameRef",ref:s,modelValue:c.value,"onUpdate:modelValue":o[8]||(o[8]=e=>c.value=e),class:"role_name_input",placeholder:"请输入角色名"},null,8,["modelValue"])])])),_:1},8,["modelValue"]),E(M,{modelValue:ml.value,"onUpdate:modelValue":o[11]||(o[11]=e=>ml.value=e),title:"变更角色",onSure:Vl},{default:U((()=>[x("div",Se,[Ne,E(g,{modelValue:pl.value,"onUpdate:modelValue":o[10]||(o[10]=e=>pl.value=e),class:"person_change_role_select",multiple:"",placeholder:"请选择角色（可多选）"},{default:U((()=>[(b(!0),C(V,null,w(f.value,((e,l)=>(b(),S(_,{key:l,label:e,value:Number(l)},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])])),_:1},8,["modelValue"]),E(_l,{modelValue:He.value,"onUpdate:modelValue":o[16]||(o[16]=e=>He.value=e),title:"添加人员","custom-class":"add_person_dialogo_hwy",onClose:o[17]||(o[17]=e=>nl.value=[])},{default:U((()=>[x("div",Oe,[x("div",Qe,[x("div",je,[(b(!0),C(V,null,w($e.value,((e,l)=>(b(),C("div",{key:l,class:K(el.value===l?"add_person_menu_active add_person_menu_item":"add_person_menu_item"),onClick:e=>(e=>{el.value=e,Nl()})(l)},B(e),11,Re)))),128)),x("div",{class:"person_tree_menu_line",style:Q("width:"+ll.value+"px;left:"+al.value+"px")},null,4)]),x("div",ze,[el.value?(b(),C("div",Me,[E(q,{class:"person_group_list"},{default:U((()=>[ol.value.length?(b(),S(Xe,{key:0,ref_key:"checkTreeRef",ref:cl,data:ol.value,"show-checkbox":"","node-key":"id",props:il,"default-expand-all":"","check-on-click-node":"","expand-on-click-node":!1,"default-checked-keys":nl.value,onCheckChange:Dl},null,8,["data","default-checked-keys"])):(b(),S(h,{key:1,description:"暂无数据"}))])),_:1})])):(b(),C("div",De,[x("div",Ke,[E(i,{modelValue:tl.value,"onUpdate:modelValue":o[12]||(o[12]=e=>tl.value=e),class:"person_search_input",placeholder:"请输入姓名或昵称搜索",clearable:"",onInput:o[13]||(o[13]=e=>{!e&&Ql()})},null,8,["modelValue"]),E(r,{class:"bdc_btn",onClick:jl},{default:U((()=>[Je])),_:1})]),E(q,{class:"person_list"},{default:U((()=>["{}"===JSON.stringify(sl.value)?(b(),S(h,{key:0,description:"暂无数据"})):(b(),S(z,{key:1,modelValue:nl.value,"onUpdate:modelValue":o[14]||(o[14]=e=>nl.value=e)},{default:U((()=>[x("div",null,[(b(!0),C(V,null,w(sl.value,((e,l)=>(b(),S(v,{key:l,class:"person_check_item",label:Number(l)},{default:U((()=>[I(B(e),1)])),_:2},1032,["label"])))),128))])])),_:1},8,["modelValue"]))])),_:1})]))])]),x("div",Pe,[x("div",Te,[Fe,x("div",null,[I(B(nl.value.length),1),Ye])]),x("div",Ge,[(b(!0),C(V,null,w(nl.value,(e=>(b(),C("div",{key:e,class:"person_checked flexb"},[I(B(ul.value[e])+" ",1),E(A,{href:"#icon-shibai",size:"14px",onClick:l=>(e=>{const l=JSON.parse(JSON.stringify(nl.value)).indexOf(e);cl.value&&-1!=Rl(cl.value.getCheckedKeys()).indexOf(e)?cl.value.setChecked(e,!1,!1):nl.value.splice(l,1)})(e)},null,8,["onClick"])])))),128))])])]),x("div",Le,[E(r,{plain:"",onClick:o[15]||(o[15]=e=>He.value=!1)},{default:U((()=>[Ze])),_:1}),E(r,{type:"primary",onClick:Kl},{default:U((()=>[qe])),_:1})]),We])),_:1},8,["modelValue"])])}}}),[["__scopeId","data-v-a74a91ec"]]);export{Xe as default};
