var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,i=(a,t,l)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[t]=l;import{f as o}from"./date.23847c74.js";import{K as u}from"./KzEmpty.94037ae3.js";import{K as d}from"./KzDialog.920f19cd.js";import{_ as c,V as n,W as p}from"./index.74b5253d.js";import{a as m,b as v}from"./myWork.a886f276.js";import{H as y,g as f,o as b,I as _,J as k,a as w,w as h,c as C,a2 as j,a3 as g,a1 as x,B as O,X as V,av as I,aw as P,r as z}from"./vue.a499711c.js";import"./tinymce.275386ab.js";const D=e=>(I("data-v-529103bc"),e=e(),P(),e),K={class:"m_article"},S={class:"article_top flexb"},$=D((()=>k("div",null,"软文库",-1))),E=j("同步官网"),M=j("新建"),U={class:"mytable"},W=["src","onClick"],B=["onClick"],H={class:"fcs"},J={class:"fcs"},N=j("删除"),X=D((()=>k("div",{class:"line"},null,-1))),q=j("编辑"),A=j("查看"),F=j("拒绝原因"),G=y((L=((e,a)=>{for(var t in a||(a={}))r.call(a,t)&&i(e,t,a[t]);if(l)for(var t of l(a))s.call(a,t)&&i(e,t,a[t]);return e})({},{name:"我的作品库-软文"}),a(L,t({setup(e){const a=f(1),t=f(0),l=f([]),r=async()=>{const e=await m({size:10,current:a.value});1==e.status&&(l.value=e.body.records,t.value=e.body.total)};r();const s=f([]),i=e=>{s.value=e},c=f(""),y=f(!1),I=()=>{v({id:c.value}).then((e=>{1==e.status&&(r(),y.value=!1)}))},P=f(!1),D=f(""),G=f([]),L=f(!1),Q=f(0);return(e,a)=>{const t=z("el-button"),r=z("el-table-column"),s=z("el-link"),m=z("el-table"),v=z("el-image-viewer");return b(),_("div",K,[k("div",S,[$,k("div",null,[w(t,{class:"bdc_btn"},{default:h((()=>[E])),_:1}),w(t,{type:"primary",class:"add_need_btn",onClick:a[0]||(a[0]=a=>e.$router.push("/product/cms/mywork/articleadd"))},{default:h((()=>[w(n,{href:"#icon-tianjia",size:"14px",color:"white",class:"add_need_icon"}),M])),_:1})])]),k("div",U,[w(m,{data:l.value,style:{width:"100%"},onSelectionChange:i},{empty:h((()=>[w(u)])),default:h((()=>[w(r,{type:"selection",width:"50"}),w(r,{property:"id",label:"ID",width:"230"}),w(r,{property:"thumb_url",label:"封面图片",width:"160"},{default:h((({row:e})=>[k("img",{src:e.thumb_url,alt:"",class:"firstimg lookhover",onClick:a=>(e=>{const a=[];l.value.forEach((e=>{a.push(e.thumb_url)})),G.value=a,Q.value=G.value.findIndex((a=>a==e)),L.value=!0})(e.thumb_url)},null,8,W)])),_:1}),w(r,{property:"title",label:"标题"},{default:h((({row:a})=>[4!=a.status?(b(),C(s,{key:0,type:"primary",onClick:t=>e.$router.push(1==a.status?"/product/cms/mywork/articleadd?id="+a.id:"/product/cms/mywork/articledetails?id="+a.id)},{default:h((()=>[j(g(a.title),1)])),_:2},1032,["onClick"])):x("",!0),4==a.status?(b(),_("span",{key:1,onClick:()=>{D.value=a.fail_reason,P.value=!0}},g(a.title),9,B)):x("",!0)])),_:1}),w(r,{property:"create_time",label:"创建日期",width:"200"},{default:h((({row:e})=>[k("div",null,g(O(o)(new Date(e.create_time),"yyyy-MM-dd")),1)])),_:1}),w(r,{property:"status",label:"状态",width:"180"},{default:h((({row:e})=>[k("div",H,[k("div",{class:V(["status_dot",O(p)(e.status).className])},null,2),k("div",null,g(O(p)(e.status).text),1)])])),_:1}),w(r,{label:"操作",fixed:"right",width:"150"},{default:h((({row:a})=>[k("div",J,[w(s,{type:"primary",onClick:e=>{return t=a.id,c.value=t,void(y.value=!0);var t}},{default:h((()=>[N])),_:2},1032,["onClick"]),X,1==a.status?(b(),C(s,{key:0,type:"primary",onClick:t=>e.$router.push("/product/cms/mywork/articleadd?id="+a.id)},{default:h((()=>[q])),_:2},1032,["onClick"])):x("",!0),2==a.status||3==a.status?(b(),C(s,{key:1,type:"primary",onClick:t=>e.$router.push("/product/cms/mywork/articledetails?id="+a.id)},{default:h((()=>[A])),_:2},1032,["onClick"])):x("",!0),4==a.status?(b(),C(s,{key:2,type:"primary",onClick:e=>D.value=a.fail_reasonerrorShow=!0},{default:h((()=>[F])),_:2},1032,["onClick"])):x("",!0)])])),_:1})])),_:1},8,["data"])]),w(d,{modelValue:y.value,"onUpdate:modelValue":a[1]||(a[1]=e=>y.value=e),msg:"确认删除这条数据吗?",onSure:I},null,8,["modelValue"]),w(d,{modelValue:P.value,"onUpdate:modelValue":a[2]||(a[2]=e=>P.value=e),msg:D.value,title:"拒绝原因",btn:1},null,8,["modelValue","msg"]),L.value?(b(),C(v,{key:0,"url-list":G.value,"initial-index":Q.value,onClose:a[3]||(a[3]=e=>L.value=!1)},null,8,["url-list","initial-index"])):x("",!0)])}}}))));var L,Q=c(G,[["__scopeId","data-v-529103bc"]]);export{Q as default};
