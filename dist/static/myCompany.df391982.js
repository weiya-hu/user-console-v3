import{m as a,n as e,o as t}from"./myinfo.aa8be145.js";import{_ as l,m as s,C as o,S as i,T as c,a6 as r,o as d,e as p}from"./index.3ae4cc0f.js";import{K as n}from"./KzEmpty.9242962f.js";import{H as u,u as y,g as v,o as _,I as f,J as b,c as m,w as k,B as h,a0 as w,a as C,W as x,a2 as g,av as j,aw as V,a1 as $,ax as z,b as H}from"./vue.fa004e33.js";import"./tinymce.50e98bcc.js";const I={class:"kz_card my_company_page"},K={class:"card_title fsc"},U=(a=>(j("data-v-16274465"),a=a(),V(),a))((()=>b("div",null,"我的企业",-1))),B=$("添加企业"),E={class:"card_content"},J={class:"fsc"},N=$("已加入企业"),S=$("待审核企业"),T={key:0,class:"tab_box"},W={style:{width:"100px"}},q={style:{width:"100px"}},A={class:"els"},D={key:1,class:"tab_box"},F={style:{width:"100px"}},G={class:"fcs"},L={class:"fcs"},M=$("编辑"),O=$("删除"),P=$("查看"),Q=$("重新提交"),R={class:"fcs fjend pb20"},X=$("取消"),Y=$("保存");var Z=l(u({setup(l){const u=z(),j=s(),V=y((()=>j.state.addressHash)),$=v(1),Z=v([]);(async()=>{const e=await a();1===e.status&&(Z.value=e.body)})();const aa=v([]),ea=async()=>{const a=await e();1===a.status&&(aa.value=a.body)};ea();const ta=v(!1),la=v(""),sa=()=>{u.replace("/manage/company/authentication?name="+la.value)};return(a,e)=>{const l=H("el-button"),s=H("el-button-group"),u=H("el-table-column"),y=H("el-tooltip"),v=H("el-table"),j=H("el-link"),z=H("el-input"),oa=H("el-dialog");return _(),f("div",I,[b("div",K,[U,Z.value.length<3?(_(),m(l,{key:0,type:"primary",icon:h(o),onClick:e[0]||(e[0]=e=>a.$router.push("authentication"))},{default:k((()=>[B])),_:1},8,["icon"])):w("",!0)]),b("div",E,[b("div",J,[C(s,{class:"btn_tab"},{default:k((()=>[C(l,{class:x(1==$.value&&"btn_tab_active"),onClick:e[1]||(e[1]=a=>$.value=1)},{default:k((()=>[N])),_:1},8,["class"]),C(l,{class:x(2==$.value&&"btn_tab_active"),onClick:e[2]||(e[2]=a=>$.value=2)},{default:k((()=>[S])),_:1},8,["class"])])),_:1})]),1==$.value?(_(),f("div",T,[C(v,{data:Z.value,border:""},{empty:k((()=>[C(n)])),default:k((()=>[C(u,{property:"name",label:"企业名称"}),C(u,{property:"code",label:"统一社会信用代码"}),C(u,{property:"legal_person",label:"联系人"}),C(u,{property:"contact",label:"联系电话"}),C(u,{property:"city_id",label:"地区"},{default:k((({row:a})=>[C(y,{effect:"dark",placement:"top"},{content:k((()=>[b("div",W,g(a.province>0&&h(i)(h(c)(a.province,a.city,a.district),h(V))),1)])),default:k((()=>[b("div",null,g(a.province>0&&h(i)(h(c)(a.province,a.city,a.district),h(V))),1)])),_:2},1024)])),_:1}),C(u,{property:"address",label:"详细地址"},{default:k((({row:a})=>[C(y,{effect:"dark",placement:"top"},{content:k((()=>[b("div",q,g(a.address),1)])),default:k((()=>[b("div",A,g(a.address),1)])),_:2},1024)])),_:1}),C(u,{property:"business_scope",label:"经营范围"})])),_:1},8,["data"])])):w("",!0),2==$.value?(_(),f("div",D,[C(v,{data:aa.value,border:""},{empty:k((()=>[C(n)])),default:k((()=>[C(u,{property:"name",label:"企业名称"}),C(u,{property:"code",label:"统一社会信用代码"}),C(u,{property:"legal_person",label:"联系人"}),C(u,{property:"contact",label:"联系电话"}),C(u,{property:"city_id",label:"地区"},{default:k((({row:a})=>[C(y,{effect:"dark",placement:"top"},{content:k((()=>[b("div",F,g(h(i)(h(c)(a.province,a.city,a.district),h(V))),1)])),default:k((()=>[b("div",null,g(h(i)(h(c)(a.province,a.city,a.district),h(V))),1)])),_:2},1024)])),_:1}),C(u,{property:"address",label:"详细地址"}),C(u,{property:"business_scope",label:"经营范围"}),C(u,{property:"status",label:"状态"},{default:k((({row:a})=>[b("div",G,[b("div",{class:x(["status_dot",h(r)(a.status).className])},null,2),b("div",null,g(h(r)(a.status).text),1)])])),_:1}),C(u,{property:"fail_reason",label:"备注"}),C(u,{label:"操作"},{default:k((({row:e})=>[b("div",L,[1==e.status?(_(),m(j,{key:0,type:"primary",onClick:t=>a.$router.push("authentication?id="+e.id)},{default:k((()=>[M])),_:2},1032,["onClick"])):w("",!0),1==e.status?(_(),m(j,{key:1,type:"primary",onClick:a=>(async a=>{1==(await t({id:a})).status?d("操作成功！"):p("操作失败！"),ea()})(e.id)},{default:k((()=>[O])),_:2},1032,["onClick"])):w("",!0),2==e.status?(_(),m(j,{key:2,type:"primary",onClick:t=>a.$router.push("authentication?id="+e.id)},{default:k((()=>[P])),_:2},1032,["onClick"])):w("",!0),4==e.status?(_(),m(j,{key:3,type:"primary",onClick:t=>a.$router.push("authentication?id="+e.id)},{default:k((()=>[Q])),_:2},1032,["onClick"])):w("",!0)])])),_:1})])),_:1},8,["data"])])):w("",!0),C(oa,{modelValue:ta.value,"onUpdate:modelValue":e[5]||(e[5]=a=>ta.value=a),title:"新建企业",width:"380px"},{default:k((()=>[C(z,{modelValue:la.value,"onUpdate:modelValue":e[3]||(e[3]=a=>la.value=a),class:"pb20",placeholder:"请输企业名称"},null,8,["modelValue"]),b("div",R,[C(l,{onClick:e[4]||(e[4]=a=>ta.value=!1)},{default:k((()=>[X])),_:1}),C(l,{type:"primary",onClick:sa},{default:k((()=>[Y])),_:1})])])),_:1},8,["modelValue"])])])}}}),[["__scopeId","data-v-16274465"]]);export{Z as default};
