var e=Object.defineProperty,a=Object.defineProperties,r=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,t=(a,r,s)=>r in a?e(a,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[r]=s;import{L as i,_ as n}from"./KzLoginInput.c235deac.js";import{_ as m,a as u}from"./login_unselect.c17c67f8.js";import{_ as d,m as c,g,a as v,p,e as f,h as b,o as _}from"./index.00a686cf.js";import{H as y,g as w,o as j,I as V,J as O,a as x,w as k,av as I,aw as P,a1 as U,b as C}from"./vue.a94c4214.js";import"./areaNum.1f3b05a6.js";import"./debounce.0e1bcf9d.js";import"./tinymce.a8dd01a6.js";const h=e=>(I("data-v-6eaba596"),e=e(),P(),e),q={class:"register"},S={class:"register_main"},D=h((()=>O("div",{class:"fleximg logo_img"},[
O("img",{src:n})],-1))),L={class:"register_content"},R=h((()=>O("div",{class:"register_content_title fleximg"},"新用户注册",-1))),z={class:"register_content_main"},E={class:"fleximg user_agree_img"},F={key:0,src:m},H={key:1,src:u},J={class:"user_agree_txt"},K=U(" 我已阅读并同意");var M=d(y({setup(e){const n=c(),m=w(!1),u=w(),d=g("url"),y=w({acode:"86",invite_code:sessionStorage.getItem("inviteCode")||void 0}),I=w({mobile:[{required:!0,message:"电话号码不能为空",trigger:"blur"},{validator:v,trigger:"blur"}],sms:[{required:!0,message:"验证码不能为空",trigger:"blur"}],pass:[{required:!0,message:"密码不能为空",trigger:"blur"},{validator:p,trigger:"blur"}],captcha:[{required:!0,message:"验证码不能为空",trigger:"blur"}]}),P=e=>{e.preventDefault(),u.value.validate((async e=>{if(e){if(!m.value)return void f("请阅读并同意《康洲数智用户须知》");const e=(i=((e,a)=>{for(var r in a||(a={}))l.call(a,r)&&t(e,r,a[r]);if(s)for(var r of s(a))o.call(a,r)&&t(e,r,a[r]);return e})({},y.value),u={acode:"+"+y.value.acode},a(i,r(u))),{status:c,body:g,message:v}=await b(e);c&&(_("注册成功"),sessionStorage.setItem("islogin","1"),setTimeout((()=>{window.location.href=d?decodeURIComponent(d):"//"+n.state.yxtUrl.offical}),500))}var i,u}))};return(e,a)=>{const r=C("el-form-item"),s=C("el-form");return j(),V("div",q,[O("div",S,[D,O("div",L,[R,O("div",z,[x(s,{ref_key:"registerFormRef",ref:u,model:y.value,rules:I.value},{default:k((()=>[x(i,{modelValue:y.value,"onUpdate:modelValue":a[0]||(a[0]=e=>y.value=e),name:"mobile","form-name":"mobile"},null,8,["modelValue"]),x(i,{modelValue:y.value,"onUpdate:modelValue":a[1]||(a[1]=e=>y.value=e),name:"mobileYZM","form-name":"sms",type:"register"},null,8,["modelValue"]),x(i,{modelValue:y.value,"onUpdate:modelValue":a[2]||(a[2]=e=>y.value=e),name:"password","form-name":"pass",label:"登录密码"},null,8,["modelValue"]),x(i,{modelValue:y.value,"onUpdate:modelValue":a[3]||(a[3]=e=>y.value=e),name:"invite_code","form-name":"invite_code"},null,8,["modelValue"]),x(r,null,{default:k((()=>[O("button",{class:"submit_button",type:"submit",onClick:a[4]||(a[4]=e=>P(e))}," 免费注册 ")])),_:1}),O("div",{class:"flexl user_agree",onClick:a[6]||(a[6]=e=>m.value=!m.value)},[O("div",E,[m.value?(j(),V("img",F)):(j(),V("img",H))]),O("div",J,[K,O("span",{onClick:a[5]||(a[5]=e=>(e.stopPropagation(),void window.open(window.location.origin+"/useragreement","_blank")))},"《康洲数智用户须知》")])])])),_:1},8,["model","rules"])])])])])}}}),[["__scopeId","data-v-6eaba596"]]);export{M as default};
