import{K as a}from"./KzPage.9c6d1927.js";import{f as e}from"./date.23847c74.js";import{K as l,a as t,g as s,b as o}from"./KzDown.85c0ad0c.js";import{K as d}from"./KzEmpty.b11d49f7.js";import{_ as u,I as i}from"./index.561f5261.js";import{H as r,g as n,o as c,I as v,J as m,a as p,w as f,P as _,aa as b,$ as y,c as w,a2 as h,a3 as g,B as k,av as j,aw as z,r as C,ad as x}from"./vue.a499711c.js";import"./qrcode.vue.esm.6e02a2a9.js";import"./index.d21e3fce.js";import"./tinymce.275386ab.js";const K=a=>(j("data-v-182753fd"),a=a(),z(),a),V={class:"kz_card"},D={class:"rce"},I={class:"top_first"},U=K((()=>m("div",{class:"pop_title"},"资源内容库",-1))),$=K((()=>m("span",{class:"fl"},"行业分类",-1))),M=h(" 查询 "),P=["src","onClick"],q=h(" 药智咨询 "),B={class:"fleximg"},E=h(" 分享 "),H=h("下载"),J=h("查看");var R=u(r({name:"resource",setup(u){const r=n(1),j=n(10),z=n(0),K=n(""),R=n(!1),A=n(),F=n(!1),G=n(),L=n({});(async()=>{const{status:a,body:e}=await s();a&&(L.value=e)})();const N=async()=>{F.value=!0;const{status:a,body:e}=await o({size:j.value,industryId:K.value,current:r.value});F.value=!1,1===a&&(z.value=e.total,G.value=e.records)};N();return(s,o)=>{const u=C("el-option"),n=C("el-select"),O=C("el-button"),Q=C("el-table-column"),S=C("el-table"),T=x("loading");return c(),v("div",null,[m("div",V,[m("div",D,[m("div",I,[U,m("div",null,[$,p(n,{modelValue:K.value,"onUpdate:modelValue":o[0]||(o[0]=a=>K.value=a),class:"m-2",placeholder:"请选择"},{default:f((()=>[(c(!0),v(_,null,b(L.value,(a=>(c(),w(u,{key:a.value,label:a.industry_name,value:a.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"]),p(O,{class:"bdc_btn",onClick:N},{default:f((()=>[M])),_:1})])]),y((c(),w(S,{data:G.value,style:{width:"100%"}},{empty:f((()=>[p(d)])),default:f((()=>[p(Q,{type:"selection",width:"104",align:"center"}),p(Q,{label:"ID"},{default:f((({row:a})=>[h(g(a.id),1)])),_:1}),p(Q,{label:"封面图片",width:"200"},{default:f((({row:a})=>[m("img",{src:a.thumb_url,alt:"",onClick:e=>k(i)([a.thumb_url],0)},null,8,P)])),_:1}),p(Q,{label:"标题","show-overflow-tooltip":!0,width:"250"},{default:f((({row:a})=>[h(g(a.title),1)])),_:1}),p(Q,{label:"来源",width:"250"},{default:f((()=>[q])),_:1}),p(Q,{label:"时间"},{default:f((({row:a})=>[h(g(k(e)(new Date(a.create_time),"yyyy-MM-dd")),1)])),_:1}),p(Q,{label:"操作","min-width":"120",align:"center"},{default:f((({row:a})=>[m("div",B,[p(O,{class:"resource_btns",type:"text"},{default:f((()=>[p(l,{"share-id":a.id},{default:f((()=>[E])),_:2},1032,["share-id"])])),_:2},1024),p(O,{type:"text",class:"resource_btns",onClick:e=>{return l=a.id,R.value=!0,void A.value.getData(l);var l}},{default:f((()=>[H])),_:2},1032,["onClick"]),p(O,{type:"text",onClick:e=>s.$router.push(`resourcedetail?id=${a.id}`)},{default:f((()=>[J])),_:2},1032,["onClick"])])])),_:1})])),_:1},8,["data"])),[[T,F.value]]),p(a,{page:r.value,"onUpdate:page":o[1]||(o[1]=a=>r.value=a),size:j.value,"onUpdate:size":o[2]||(o[2]=a=>j.value=a),total:z.value,onChange:N},null,8,["page","size","total"])])]),p(t,{ref_key:"myDownRef",ref:A,modelValue:R.value,"onUpdate:modelValue":o[3]||(o[3]=a=>R.value=a),type:"down"},null,8,["modelValue"])])}}}),[["__scopeId","data-v-182753fd"]]);export{R as default};
