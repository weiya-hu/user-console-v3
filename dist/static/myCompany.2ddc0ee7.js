import{m as a,n as e,o as t}from"./myinfo.2ebb5168.js";import{_ as l,m as s,A as o,N as i,O as c,Z as r,o as d}from"./index.0bf61828.js";import{K as p}from"./KzEmpty.dff626fc.js";import{H as n,g as u,o as y,I as v,J as b,a as _,w as f,B as m,W as k,a2 as h,a0 as C,c as w,av as x,aw as g,a1 as j,ax as V,b as $}from"./vue.a94c4214.js";import"./tinymce.a8dd01a6.js";const z={class:"kz_card my_company_page"},H={class:"card_title fsc"},I=(a=>(x("data-v-332247c4"),a=a(),g(),a))((()=>b("div",null,"我的企业",-1))),K=j("添加企业"),N={class:"card_content"},U={class:"fsc"},A=j("已加入企业"),B=j("待审核企业"),E={key:0,class:"tab_box"},J={style:{width:"100px"}},O={key:1,class:"tab_box"},W={style:{width:"100px"}},Z={class:"fcs"},q={class:"fcs"},D=j("编辑"),F=j("删除"),G=j("查看"),L=j("重新提交"),M={class:"fcs fjend pb20"},P=j("取消"),Q=j("保存");var R=l(n({setup(l){const n=V(),x=s(),g=u(x.state.addressHash),j=u(1),R=u([]);(async()=>{const e=await a();1===e.status&&(R.value=e.body)})();const S=u([]),T=async()=>{const a=await e();1===a.status&&(S.value=a.body)};T();const X=u(!1),Y=u(""),aa=()=>{n.replace("/manage/company/authentication?name="+Y.value)};return(a,e)=>{const l=$("el-button"),s=$("el-button-group"),n=$("el-table-column"),u=$("el-tooltip"),x=$("el-table"),V=$("el-link"),ea=$("el-input"),ta=$("el-dialog");return y(),v("div",z,[b("div",H,[I,_(l,{type:"primary",icon:m(o),onClick:e[0]||(e[0]=e=>a.$router.push("authentication"))},{default:f((()=>[K])),_:1},8,["icon"])]),b("div",N,[b("div",U,[_(s,{class:"btn_tab"},{default:f((()=>[_(l,{class:k(1==j.value&&"btn_tab_active"),onClick:e[1]||(e[1]=a=>j.value=1)},{default:f((()=>[A])),_:1},8,["class"]),_(l,{class:k(2==j.value&&"btn_tab_active"),onClick:e[2]||(e[2]=a=>j.value=2)},{default:f((()=>[B])),_:1},8,["class"])])),_:1})]),1==j.value?(y(),v("div",E,[_(x,{data:R.value,border:""},{empty:f((()=>[_(p)])),default:f((()=>[_(n,{property:"name",label:"企业名称"}),_(n,{property:"code",label:"统一社会信用代码"}),_(n,{property:"legal_person",label:"联系人"}),_(n,{property:"contact",label:"联系电话"}),_(n,{property:"city_id",label:"地区"},{default:f((({row:a})=>[_(u,{effect:"dark",placement:"top"},{content:f((()=>[b("div",J,h(a.province>0&&m(i)(m(c)(a.province,a.city,a.district),g.value)),1)])),default:f((()=>[b("div",null,h(a.province>0&&m(i)(m(c)(a.province,a.city,a.district),g.value)),1)])),_:2},1024)])),_:1}),_(n,{property:"address",label:"详细地址"}),_(n,{property:"business_scope",label:"经营范围"})])),_:1},8,["data"])])):C("",!0),2==j.value?(y(),v("div",O,[_(x,{data:S.value,border:""},{empty:f((()=>[_(p)])),default:f((()=>[_(n,{property:"name",label:"企业名称"}),_(n,{property:"code",label:"统一社会信用代码"}),_(n,{property:"legal_person",label:"联系人"}),_(n,{property:"contact",label:"联系电话"}),_(n,{property:"city_id",label:"地区"},{default:f((({row:a})=>[_(u,{effect:"dark",placement:"top"},{content:f((()=>[b("div",W,h(a.province>0&&m(i)(m(c)(a.province,a.city,a.district),g.value)),1)])),default:f((()=>[b("div",null,h(a.province>0&&m(i)(m(c)(a.province,a.city,a.district),g.value)),1)])),_:2},1024)])),_:1}),_(n,{property:"address",label:"详细地址"}),_(n,{property:"business_scope",label:"经营范围"}),_(n,{property:"status",label:"状态"},{default:f((({row:a})=>[b("div",Z,[b("div",{class:k(["status_dot",m(r)(a.status).className])},null,2),b("div",null,h(m(r)(a.status).text),1)])])),_:1}),_(n,{property:"fail_reason",label:"备注"}),_(n,{label:"操作"},{default:f((({row:e})=>[b("div",q,[1==e.status?(y(),w(V,{key:0,type:"primary",onClick:t=>a.$router.push("authentication?id="+e.id)},{default:f((()=>[D])),_:2},1032,["onClick"])):C("",!0),1==e.status?(y(),w(V,{key:1,type:"primary",onClick:a=>(async a=>{1==(await t({id:a})).status&&d("操作成功！"),T()})(e.id)},{default:f((()=>[F])),_:2},1032,["onClick"])):C("",!0),2==e.status?(y(),w(V,{key:2,type:"primary",onClick:t=>a.$router.push("authentication?id="+e.id)},{default:f((()=>[G])),_:2},1032,["onClick"])):C("",!0),4==e.status?(y(),w(V,{key:3,type:"primary",onClick:t=>a.$router.push("authentication?id="+e.id)},{default:f((()=>[L])),_:2},1032,["onClick"])):C("",!0)])])),_:1})])),_:1},8,["data"])])):C("",!0),_(ta,{modelValue:X.value,"onUpdate:modelValue":e[5]||(e[5]=a=>X.value=a),title:"新建企业",width:"380px"},{default:f((()=>[_(ea,{modelValue:Y.value,"onUpdate:modelValue":e[3]||(e[3]=a=>Y.value=a),class:"pb20",placeholder:"请输企业名称"},null,8,["modelValue"]),b("div",M,[_(l,{onClick:e[4]||(e[4]=a=>X.value=!1)},{default:f((()=>[P])),_:1}),_(l,{type:"primary",onClick:aa},{default:f((()=>[Q])),_:1})])])),_:1},8,["modelValue"])])])}}}),[["__scopeId","data-v-332247c4"]]);export{R as default};
