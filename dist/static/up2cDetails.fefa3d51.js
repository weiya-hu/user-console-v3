import{K as a}from"./KzTopBtns.baf6f18f.js";import{K as e}from"./KzDmpTitle.75aa6a30.js";import{K as t}from"./KzEmpty.b11d49f7.js";import{K as s}from"./KzPage.9c6d1927.js";import{_ as l,m as o,T as r,U as i}from"./index.561f5261.js";import{H as p,u as d,g as n,$ as c,o as u,I as y,J as m,a as v,B as f,w as b,a2 as _,a3 as g,ay as h,r as z,ad as j}from"./vue.a499711c.js";import{g as w,b as K,s as k}from"./myData.86ad8934.js";import"./KzDialog.9ecb6295.js";import"./kzkf.83b11867.js";import"./tinymce.275386ab.js";const x={class:"kz_card my_up2c_page dmp_page"},D={class:"fsc mb20"},B={class:"dmp_table"},H={style:{width:"100px"}},S={style:{width:"100px"}},T={class:"els"};var U=l(p({name:"up2cDetails",setup(l){const p=o(),U=d((()=>p.state.typeHash)),q=d((()=>p.state.addressHash)),C=h();C.query.id;const I=n([]),R=n(0),E=n(10),J=n(1),L=n(!1),P=async()=>{L.value=!0;const a={current:J.value,size:E.value,id:C.query.id},{status:e,body:t}=await K(a);L.value=!1,e&&(R.value=t.total,I.value=t.records)};P();const $=n([]),A=a=>{$.value=a.map((a=>a.id))},F=n(),G=n(),M=d((()=>!$.value.length)),N=async()=>{G.value.setLoading(!0);const a=await k({list:$.value,type:2});G.value.close(a.message),$.value=[],F.value.clearSelection()};return(l,o)=>{const p=z("el-table-column"),d=z("el-tooltip"),n=z("el-table"),h=j("loading");return c((u(),y("div",x,[m("div",D,[v(e,{total:R.value},null,8,["total"]),v(a,{ref_key:"topBtnRef",ref:G,type:"sync",syncbtn:"","sync-api":f(w),"sync-disabled":f(M),onSync:N},null,8,["sync-api","sync-disabled"])]),m("div",B,[v(n,{ref_key:"tableRef",ref:F,data:I.value,height:"100%",onSelectionChange:A},{empty:b((()=>[v(t)])),default:b((()=>[v(p,{type:"selection",width:"50"}),v(p,{property:"contact",label:"姓名"}),v(p,{property:"sex",label:"性别"},{default:b((({row:a})=>[_(g(1===a.sex?"男":"女"),1)])),_:1}),v(p,{property:"mobiles",label:"联系方式"}),v(p,{property:"telephone",label:"固定电话"}),v(p,{property:"email",label:"邮箱"}),v(p,{property:"industry_id",label:"从事行业"},{default:b((a=>[m("div",null,g(f(r)(a.row.industry_id.split(","),f(U),"last")),1)])),_:1}),v(p,{property:"city",label:"地区"},{default:b((({row:a})=>[v(d,{effect:"dark",placement:"top"},{content:b((()=>[m("div",H,g(f(r)(f(i)(a.province,a.city,a.district),f(q))),1)])),default:b((()=>[m("div",null,g(f(r)(f(i)(a.province,a.city,a.district),f(q))),1)])),_:2},1024)])),_:1}),v(p,{property:"address",label:"详细地址"},{default:b((({row:a})=>[v(d,{effect:"dark",placement:"top"},{content:b((()=>[m("div",S,g(a.address),1)])),default:b((()=>[m("div",T,g(a.address),1)])),_:2},1024)])),_:1})])),_:1},8,["data"])]),v(s,{page:J.value,"onUpdate:page":o[0]||(o[0]=a=>J.value=a),size:E.value,"onUpdate:size":o[1]||(o[1]=a=>E.value=a),total:R.value,onChange:P},null,8,["page","size","total"])])),[[h,L.value]])}}}),[["__scopeId","data-v-2958ce00"]]);export{U as default};
