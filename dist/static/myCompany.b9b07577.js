import{m as a,n as e,o as t}from"./myinfo.82e48100.js";import{_ as l,m as s,A as o,P as i,Q as r,a5 as c,o as d,e as p}from"./index.74b5253d.js";import{K as n}from"./KzEmpty.94037ae3.js";import{H as u,g as y,o as v,I as m,J as _,a as b,w as f,B as k,X as h,a3 as C,a1 as w,c as x,av as g,aw as j,a2 as V,ax as $,r as z}from"./vue.a499711c.js";import"./tinymce.275386ab.js";const H={class:"kz_card my_company_page"},I={class:"card_title fsc"},K=(a=>(g("data-v-470da76d"),a=a(),j(),a))((()=>_("div",null,"我的企业",-1))),U=V("添加企业"),A={class:"card_content"},B={class:"fsc"},E=V("已加入企业"),J=V("待审核企业"),N={key:0,class:"tab_box"},P={style:{width:"100px"}},Q={key:1,class:"tab_box"},X={style:{width:"100px"}},q={class:"fcs"},D={class:"fcs"},F=V("编辑"),G=V("删除"),L=V("查看"),M=V("重新提交"),O={class:"fcs fjend pb20"},R=V("取消"),S=V("保存");var T=l(u({name:"myCompany",setup(l){const u=$(),g=s(),j=y(g.state.addressHash),V=y(1),T=y([]);(async()=>{const e=await a();1===e.status&&(T.value=e.body)})();const W=y([]),Y=async()=>{const a=await e();1===a.status&&(W.value=a.body)};Y();const Z=y(!1),aa=y(""),ea=()=>{u.replace("/manage/company/authentication?name="+aa.value)};return(a,e)=>{const l=z("el-button"),s=z("el-button-group"),u=z("el-table-column"),y=z("el-tooltip"),g=z("el-table"),$=z("el-link"),ta=z("el-input"),la=z("el-dialog");return v(),m("div",H,[_("div",I,[K,b(l,{type:"primary",icon:k(o),onClick:e[0]||(e[0]=e=>a.$router.push("authentication"))},{default:f((()=>[U])),_:1},8,["icon"])]),_("div",A,[_("div",B,[b(s,{class:"btn_tab"},{default:f((()=>[b(l,{class:h(1==V.value&&"btn_tab_active"),onClick:e[1]||(e[1]=a=>V.value=1)},{default:f((()=>[E])),_:1},8,["class"]),b(l,{class:h(2==V.value&&"btn_tab_active"),onClick:e[2]||(e[2]=a=>V.value=2)},{default:f((()=>[J])),_:1},8,["class"])])),_:1})]),1==V.value?(v(),m("div",N,[b(g,{data:T.value,border:""},{empty:f((()=>[b(n)])),default:f((()=>[b(u,{property:"name",label:"企业名称"}),b(u,{property:"code",label:"统一社会信用代码"}),b(u,{property:"legal_person",label:"联系人"}),b(u,{property:"contact",label:"联系电话"}),b(u,{property:"city_id",label:"地区"},{default:f((({row:a})=>[b(y,{effect:"dark",placement:"top"},{content:f((()=>[_("div",P,C(a.province>0&&k(i)(k(r)(a.province,a.city,a.district),j.value)),1)])),default:f((()=>[_("div",null,C(a.province>0&&k(i)(k(r)(a.province,a.city,a.district),j.value)),1)])),_:2},1024)])),_:1}),b(u,{property:"address",label:"详细地址"}),b(u,{property:"business_scope",label:"经营范围"})])),_:1},8,["data"])])):w("",!0),2==V.value?(v(),m("div",Q,[b(g,{data:W.value,border:""},{empty:f((()=>[b(n)])),default:f((()=>[b(u,{property:"name",label:"企业名称"}),b(u,{property:"code",label:"统一社会信用代码"}),b(u,{property:"legal_person",label:"联系人"}),b(u,{property:"contact",label:"联系电话"}),b(u,{property:"city_id",label:"地区"},{default:f((({row:a})=>[b(y,{effect:"dark",placement:"top"},{content:f((()=>[_("div",X,C(a.province>0&&k(i)(k(r)(a.province,a.city,a.district),j.value)),1)])),default:f((()=>[_("div",null,C(a.province>0&&k(i)(k(r)(a.province,a.city,a.district),j.value)),1)])),_:2},1024)])),_:1}),b(u,{property:"address",label:"详细地址"}),b(u,{property:"business_scope",label:"经营范围"}),b(u,{property:"status",label:"状态"},{default:f((({row:a})=>[_("div",q,[_("div",{class:h(["status_dot",k(c)(a.status).className])},null,2),_("div",null,C(k(c)(a.status).text),1)])])),_:1}),b(u,{property:"fail_reason",label:"备注"}),b(u,{label:"操作"},{default:f((({row:e})=>[_("div",D,[1==e.status?(v(),x($,{key:0,type:"primary",onClick:t=>a.$router.push("authentication?id="+e.id)},{default:f((()=>[F])),_:2},1032,["onClick"])):w("",!0),1==e.status?(v(),x($,{key:1,type:"primary",onClick:a=>(async a=>{1==(await t({id:a})).status?d("操作成功！"):p("操作失败！"),Y()})(e.id)},{default:f((()=>[G])),_:2},1032,["onClick"])):w("",!0),2==e.status?(v(),x($,{key:2,type:"primary",onClick:t=>a.$router.push("authentication?id="+e.id)},{default:f((()=>[L])),_:2},1032,["onClick"])):w("",!0),4==e.status?(v(),x($,{key:3,type:"primary",onClick:t=>a.$router.push("authentication?id="+e.id)},{default:f((()=>[M])),_:2},1032,["onClick"])):w("",!0)])])),_:1})])),_:1},8,["data"])])):w("",!0),b(la,{modelValue:Z.value,"onUpdate:modelValue":e[5]||(e[5]=a=>Z.value=a),title:"新建企业",width:"380px"},{default:f((()=>[b(ta,{modelValue:aa.value,"onUpdate:modelValue":e[3]||(e[3]=a=>aa.value=a),class:"pb20",placeholder:"请输企业名称"},null,8,["modelValue"]),_("div",O,[b(l,{onClick:e[4]||(e[4]=a=>Z.value=!1)},{default:f((()=>[R])),_:1}),b(l,{type:"primary",onClick:ea},{default:f((()=>[S])),_:1})])])),_:1},8,["modelValue"])])])}}}),[["__scopeId","data-v-470da76d"]]);export{T as default};
